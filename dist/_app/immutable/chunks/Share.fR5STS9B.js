import{s as G,l as j,m as R,o as A,b as z,f as m,p as g,q,i as k,h as B,n as Z,r as F,u as ee,A as be,e as T,c as S,v as ae,B as Ce,C as Ee,D as ke,M as y,a as D,g as M,N as le,k as Y,G as Le,K as ze,V as Ve,t as P,d as N,j as x,z as De,L as ue,x as se,R as Me,y as ce,_ as Be}from"./scheduler.D1PieneV.js";import{S as J,i as K,t as d,b as p,f as re,c as h,a as v,m as w,d as b}from"./index.C3mFgbJp.js";import{g as Q,t as oe,l as je,a as He}from"./page.C1MkfPZM.js";import"./Avatar.svelte_svelte_type_style_lang.Y2NvE3L1.js";import"./entry.CZGxI5J9.js";import{I as Te}from"./input.u56xhq2v.js";import{c as Se,z as Ze,F as Fe,C as Ie,a as Pe,b as Ne}from"./zod.CDjjRtct.js";import{p as Oe}from"./stores.D3KtNkVh.js";import{z as fe,s as Re}from"./memoize.w294uzKF.js";import{D as Ae,d as qe,a as xe,b as Ue,c as Ge,C as Je,e as Ke}from"./index.CZSe99br.js";import{p as Qe}from"./pocketbase.jMCA8Re0.js";import{R as We,D as Xe,a as Ye,b as ye,c as et}from"./index.B47jtIQb.js";import{t as te}from"./Toaster.svelte_svelte_type_style_lang.BjLjrA_v.js";import{B as ne}from"./button.DHfMyFex.js";import{C as tt}from"./CaretLeft.VvK38PIW.js";import{c as ie}from"./helpers.KbyKTsoX.js";import{P as lt}from"./PaperPlane.DIx2E9MC.js";function st(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=j(n,s[t]);return{c(){e=R("svg"),l=R("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=z(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),z(l).forEach(m),r.forEach(m),this.h()},h(){g(l,"fill-rule","evenodd"),g(l,"clip-rule","evenodd"),g(l,"d","M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z"),g(l,"fill",a[0]),q(e,n)},m(t,r){k(t,e,r),B(e,l)},p(t,[r]){r&1&&g(l,"fill",t[0]),q(e,n=Q(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&m(e)}}}function rt(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=j(j({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class nt extends J{constructor(e){super(),K(this,e,rt,st,G,{color:0,size:1})}}function at(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=j(n,s[t]);return{c(){e=R("svg"),l=R("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=z(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),z(l).forEach(m),r.forEach(m),this.h()},h(){g(l,"fill-rule","evenodd"),g(l,"clip-rule","evenodd"),g(l,"d","M1 2C0.447715 2 0 2.44772 0 3V12C0 12.5523 0.447715 13 1 13H14C14.5523 13 15 12.5523 15 12V3C15 2.44772 14.5523 2 14 2H1ZM1 3L14 3V3.92494C13.9174 3.92486 13.8338 3.94751 13.7589 3.99505L7.5 7.96703L1.24112 3.99505C1.16621 3.94751 1.0826 3.92486 1 3.92494V3ZM1 4.90797V12H14V4.90797L7.74112 8.87995C7.59394 8.97335 7.40606 8.97335 7.25888 8.87995L1 4.90797Z"),g(l,"fill",a[0]),q(e,n)},m(t,r){k(t,e,r),B(e,l)},p(t,[r]){r&1&&g(l,"fill",t[0]),q(e,n=Q(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&m(e)}}}function ot(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=j(j({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class ft extends J{constructor(e){super(),K(this,e,ot,at,G,{color:0,size:1})}}function it(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=j(n,s[t]);return{c(){e=R("svg"),l=R("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=z(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),z(l).forEach(m),r.forEach(m),this.h()},h(){g(l,"fill-rule","evenodd"),g(l,"clip-rule","evenodd"),g(l,"d","M5 7.50003C5 8.32845 4.32843 9.00003 3.5 9.00003C2.67157 9.00003 2 8.32845 2 7.50003C2 6.6716 2.67157 6.00003 3.5 6.00003C4.32843 6.00003 5 6.6716 5 7.50003ZM5.71313 8.66388C5.29445 9.45838 4.46048 10 3.5 10C2.11929 10 1 8.88074 1 7.50003C1 6.11931 2.11929 5.00003 3.5 5.00003C4.46048 5.00003 5.29445 5.54167 5.71313 6.33616L9.10424 4.21671C9.03643 3.98968 9 3.74911 9 3.50003C9 2.11932 10.1193 1.00003 11.5 1.00003C12.8807 1.00003 14 2.11932 14 3.50003C14 4.88074 12.8807 6.00003 11.5 6.00003C10.6915 6.00003 9.97264 5.61624 9.51566 5.0209L5.9853 7.22738C5.99502 7.31692 6 7.40789 6 7.50003C6 7.59216 5.99502 7.68312 5.9853 7.77267L9.51567 9.97915C9.97265 9.38382 10.6915 9.00003 11.5 9.00003C12.8807 9.00003 14 10.1193 14 11.5C14 12.8807 12.8807 14 11.5 14C10.1193 14 9 12.8807 9 11.5C9 11.2509 9.03643 11.0104 9.10425 10.7833L5.71313 8.66388ZM11.5 5.00003C12.3284 5.00003 13 4.32846 13 3.50003C13 2.6716 12.3284 2.00003 11.5 2.00003C10.6716 2.00003 10 2.6716 10 3.50003C10 4.32846 10.6716 5.00003 11.5 5.00003ZM13 11.5C13 12.3285 12.3284 13 11.5 13C10.6716 13 10 12.3285 10 11.5C10 10.6716 10.6716 10 11.5 10C12.3284 10 13 10.6716 13 11.5Z"),g(l,"fill",a[0]),q(e,n)},m(t,r){k(t,e,r),B(e,l)},p(t,[r]){r&1&&g(l,"fill",t[0]),q(e,n=Q(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&m(e)}}}function ut(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=j(j({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class ct extends J{constructor(e){super(),K(this,e,ut,it,G,{color:0,size:1})}}function mt(a){let e,l,s;const n=a[4].default,t=be(n,a,a[3],null);let r=[{class:l=ie("mt-auto flex flex-col gap-2 p-4",a[1])},a[2]],o={};for(let u=0;u<r.length;u+=1)o=j(o,r[u]);return{c(){e=T("div"),t&&t.c(),this.h()},l(u){e=S(u,"DIV",{class:!0});var f=z(e);t&&t.l(f),f.forEach(m),this.h()},h(){ae(e,o)},m(u,f){k(u,e,f),t&&t.m(e,null),a[5](e),s=!0},p(u,[f]){t&&t.p&&(!s||f&8)&&Ce(t,n,u,u[3],s?ke(n,u[3],f,null):Ee(u[3]),null),ae(e,o=Q(r,[(!s||f&2&&l!==(l=ie("mt-auto flex flex-col gap-2 p-4",u[1])))&&{class:l},f&4&&u[2]]))},i(u){s||(d(t,u),s=!0)},o(u){p(t,u),s=!1},d(u){u&&m(e),t&&t.d(u),a[5](null)}}}function _t(a,e,l){const s=["el","class"];let n=F(e,s),{$$slots:t={},$$scope:r}=e,{el:o=void 0}=e,{class:u=void 0}=e;function f(i){y[i?"unshift":"push"](()=>{o=i,l(0,o)})}return a.$$set=i=>{e=j(j({},e),ee(i)),l(2,n=F(e,s)),"el"in i&&l(0,o=i.el),"class"in i&&l(1,u=i.class),"$$scope"in i&&l(3,r=i.$$scope)},[o,u,n,r,t,f]}class $t extends J{constructor(e){super(),K(this,e,_t,mt,G,{el:0,class:1})}}async function dt(a){if("clipboard"in navigator)await navigator.clipboard.writeText(a);else{const e=document.createElement("input");e.type="text",e.disabled=!0,e.style.setProperty("position","fixed"),e.style.setProperty("z-index","-100"),e.style.setProperty("pointer-events","none"),e.style.setProperty("opacity","0"),e.value=a,document.body.appendChild(e),e.click(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}const pt=(a,e)=>{async function l(){if(n)try{await dt(n),a.dispatchEvent(new CustomEvent("svelte-copy",{detail:n}))}catch(t){a.dispatchEvent(new CustomEvent("svelte-copy:error",{detail:t}))}}let s=typeof e=="string"?["click"]:[e.events].flat(1),n=typeof e=="string"?e:e.text;return s.forEach(t=>{a.addEventListener(t,l,!0)}),{update:t=>{const r=typeof t=="string"?["click"]:[t.events].flat(1),o=typeof t=="string"?t:t.text,u=r.filter(i=>!s.includes(i)),f=s.filter(i=>!r.includes(i));u.forEach(i=>{a.addEventListener(i,l,!0)}),f.forEach(i=>{a.removeEventListener(i,l,!0)}),s=r,n=o},destroy:()=>{s.forEach(t=>{a.removeEventListener(t,l,!0)})}}};function gt(a){let e,l;return e=new tt({props:{class:"h-4 w-4 rounded-full"}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p:Z,i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function ht(a){let e=a[3]("default.menu.share.cta")+"",l,s,n,t;return n=new ct({}),{c(){l=P(e),s=D(),h(n.$$.fragment)},l(r){l=N(r,e),s=M(r),v(n.$$.fragment,r)},m(r,o){k(r,l,o),k(r,s,o),w(n,r,o),t=!0},p(r,o){(!t||o[0]&8)&&e!==(e=r[3]("default.menu.share.cta")+"")&&x(l,e)},i(r){t||(d(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&(m(l),m(s)),b(n,r)}}}function vt(a){let e=a[3]("default.menu.share.cta")+"",l;return{c(){l=P(e)},l(s){l=N(s,e)},m(s,n){k(s,l,n)},p(s,n){n[0]&8&&e!==(e=s[3]("default.menu.share.cta")+"")&&x(l,e)},d(s){s&&m(l)}}}function wt(a){let e,l,s,n;return s=new Ke({props:{class:"text-red-600"}}),{c(){e=T("div"),l=T("div"),h(s.$$.fragment),this.h()},l(t){e=S(t,"DIV",{class:!0});var r=z(e);l=S(r,"DIV",{class:!0});var o=z(l);v(s.$$.fragment,o),o.forEach(m),r.forEach(m),this.h()},h(){g(l,"class","icon fill-feelings-foreground svelte-ljnb6t"),g(e,"class","label bg-feelings-background svelte-ljnb6t")},m(t,r){k(t,e,r),B(e,l),w(s,l,null),n=!0},p:Z,i(t){n||(d(s.$$.fragment,t),n=!0)},o(t){p(s.$$.fragment,t),n=!1},d(t){t&&m(e),b(s)}}}function bt(a){let e,l,s,n,t;return l=new Ge({props:{$$slots:{default:[vt]},$$scope:{ctx:a}}}),n=new Je({props:{$$slots:{default:[wt]},$$scope:{ctx:a}}}),{c(){e=T("div"),h(l.$$.fragment),s=D(),h(n.$$.fragment),this.h()},l(r){e=S(r,"DIV",{class:!0});var o=z(e);v(l.$$.fragment,o),s=M(o),v(n.$$.fragment,o),o.forEach(m),this.h()},h(){g(e,"class","flex items-center justify-between")},m(r,o){k(r,e,o),w(l,e,null),B(e,s),w(n,e,null),t=!0},p(r,o){const u={};o[0]&8|o[1]&8&&(u.$$scope={dirty:o,ctx:r}),l.$set(u);const f={};o[1]&8&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){t||(d(l.$$.fragment,r),d(n.$$.fragment,r),t=!0)},o(r){p(l.$$.fragment,r),p(n.$$.fragment,r),t=!1},d(r){r&&m(e),b(l),b(n)}}}function Ct(a){let e,l=a[3]("default.menu.share.copyLink")+"",s,n,t,r,o,u,f=a[3]("default.menu.share.mailLink")+"",i,L,C,V,H,O;return t=new nt({}),C=new ft({}),{c(){e=T("button"),s=P(l),n=D(),h(t.$$.fragment),o=D(),u=T("button"),i=P(f),L=D(),h(C.$$.fragment),this.h()},l(E){e=S(E,"BUTTON",{class:!0});var c=z(e);s=N(c,l),n=M(c),v(t.$$.fragment,c),c.forEach(m),o=M(E),u=S(E,"BUTTON",{class:!0});var _=z(u);i=N(_,f),L=M(_),v(C.$$.fragment,_),_.forEach(m),this.h()},h(){g(e,"class","skeumorphic-button flex w-full items-center justify-between rounded-full px-4 py-1.5 text-sm svelte-ljnb6t"),g(u,"class","skeumorphic-button flex w-full items-center justify-between rounded-full px-4 py-1.5 text-sm svelte-ljnb6t")},m(E,c){k(E,e,c),B(e,s),B(e,n),w(t,e,null),k(E,o,c),k(E,u,c),B(u,i),B(u,L),w(C,u,null),V=!0,H||(O=[ue(r=pt.call(null,e,a[2])),se(e,"svelte-copy",a[14]),se(u,"click",a[15])],H=!0)},p(E,c){(!V||c[0]&8)&&l!==(l=E[3]("default.menu.share.copyLink")+"")&&x(s,l),r&&Me(r.update)&&c[0]&4&&r.update.call(null,E[2]),(!V||c[0]&8)&&f!==(f=E[3]("default.menu.share.mailLink")+"")&&x(i,f)},i(E){V||(d(t.$$.fragment,E),d(C.$$.fragment,E),V=!0)},o(E){p(t.$$.fragment,E),p(C.$$.fragment,E),V=!1},d(E){E&&(m(e),m(o),m(u)),b(t),b(C),H=!1,ce(O)}}}function Et(a){let e,l,s,n;return e=new Ue({props:{class:"w-full border-b border-black/10",$$slots:{default:[bt]},$$scope:{ctx:a}}}),s=new $t({props:{class:"flex flex-col gap-4 pb-10",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment),l=D(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),k(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&8|r[1]&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o);const u={};r[0]&15|r[1]&8&&(u.$$scope={dirty:r,ctx:t}),s.$set(u)},i(t){n||(d(e.$$.fragment,t),d(s.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),p(s.$$.fragment,t),n=!1},d(t){t&&m(l),b(e,t),b(s,t)}}}function kt(a){let e,l;return e=new xe({props:{class:"",$$slots:{default:[Et]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&15|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function Lt(a){let e=a[3]("default.menu.share.mailDialogText")+"",l;return{c(){l=P(e)},l(s){l=N(s,e)},m(s,n){k(s,l,n)},p(s,n){n[0]&8&&e!==(e=s[3]("default.menu.share.mailDialogText")+"")&&x(l,e)},d(s){s&&m(l)}}}function zt(a){let e;return{c(){e=P("E-Mail")},l(l){e=N(l,"E-Mail")},m(l,s){k(l,e,s)},d(l){l&&m(e)}}}function Vt(a){let e,l,s,n,t;e=new Ne({props:{class:"form-label",$$slots:{default:[zt]},$$scope:{ctx:a}}});const r=[a[33],{type:"text"},{placeholder:a[5]==="en"?"E-Mail":"E-Mail Adresse"},{class:"mb-4"}];function o(f){a[17](f)}let u={};for(let f=0;f<r.length;f+=1)u=j(u,r[f]);return a[4].email!==void 0&&(u.value=a[4].email),s=new Te({props:u}),y.push(()=>re(s,"value",o)),{c(){h(e.$$.fragment),l=D(),h(s.$$.fragment)},l(f){v(e.$$.fragment,f),l=M(f),v(s.$$.fragment,f)},m(f,i){w(e,f,i),k(f,l,i),w(s,f,i),t=!0},p(f,i){const L={};i[1]&8&&(L.$$scope={dirty:i,ctx:f}),e.$set(L);const C=i[0]&32|i[1]&4?Q(r,[i[1]&4&&He(f[33]),r[1],i[0]&32&&{placeholder:f[5]==="en"?"E-Mail":"E-Mail Adresse"},r[3]]):{};!n&&i[0]&16&&(n=!0,C.value=f[4].email,le(()=>n=!1)),s.$set(C)},i(f){t||(d(e.$$.fragment,f),d(s.$$.fragment,f),t=!0)},o(f){p(e.$$.fragment,f),p(s.$$.fragment,f),t=!1},d(f){f&&m(l),b(e,f),b(s,f)}}}function Dt(a){let e,l,s,n;return e=new Ie({props:{$$slots:{default:[Vt,({attrs:t})=>({33:t}),({attrs:t})=>[0,t?4:0]]},$$scope:{ctx:a}}}),s=new Pe({}),{c(){h(e.$$.fragment),l=D(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),k(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&48|r[1]&12&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(d(e.$$.fragment,t),d(s.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),p(s.$$.fragment,t),n=!1},d(t){t&&m(l),b(e,t),b(s,t)}}}function Mt(a){let e=a[3]("default.menu.share.cta")+"",l,s,n,t;return n=new lt({}),{c(){l=P(e),s=D(),h(n.$$.fragment)},l(r){l=N(r,e),s=M(r),v(n.$$.fragment,r)},m(r,o){k(r,l,o),k(r,s,o),w(n,r,o),t=!0},p(r,o){(!t||o[0]&8)&&e!==(e=r[3]("default.menu.share.cta")+"")&&x(l,e)},i(r){t||(d(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&(m(l),m(s)),b(n,r)}}}function Bt(a){let e,l,s,n,t,r,o,u;return l=new Fe({props:{form:a[6],name:"email",class:"w-full",$$slots:{default:[Dt]},$$scope:{ctx:a}}}),t=new ne({props:{type:"submit",class:"flex items-center gap-3",$$slots:{default:[Mt]},$$scope:{ctx:a}}}),{c(){e=T("form"),h(l.$$.fragment),s=D(),n=T("div"),h(t.$$.fragment),this.h()},l(f){e=S(f,"FORM",{class:!0});var i=z(e);v(l.$$.fragment,i),s=M(i),n=S(i,"DIV",{class:!0});var L=z(n);v(t.$$.fragment,L),L.forEach(m),i.forEach(m),this.h()},h(){g(n,"class","flex w-full justify-end"),g(e,"class","-mt-1 flex h-full flex-grow flex-col items-start")},m(f,i){k(f,e,i),w(l,e,null),B(e,s),B(e,n),w(t,n,null),r=!0,o||(u=[se(e,"submit",Be(a[12])),ue(a[8].call(null,e))],o=!0)},p(f,i){const L={};i[0]&48|i[1]&8&&(L.$$scope={dirty:i,ctx:f}),l.$set(L);const C={};i[0]&8|i[1]&8&&(C.$$scope={dirty:i,ctx:f}),t.$set(C)},i(f){r||(d(l.$$.fragment,f),d(t.$$.fragment,f),r=!0)},o(f){p(l.$$.fragment,f),p(t.$$.fragment,f),r=!1},d(f){f&&m(e),b(l),b(t),o=!1,ce(u)}}}function jt(a){let e,l,s,n;return e=new ye({props:{class:"mb-10 max-w-[9em] leading-tight",$$slots:{default:[Lt]},$$scope:{ctx:a}}}),s=new et({props:{$$slots:{default:[Bt]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment),l=D(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),k(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&8|r[1]&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o);const u={};r[0]&56|r[1]&8&&(u.$$scope={dirty:r,ctx:t}),s.$set(u)},i(t){n||(d(e.$$.fragment,t),d(s.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),p(s.$$.fragment,t),n=!1},d(t){t&&m(l),b(e,t),b(s,t)}}}function Ht(a){let e,l;return e=new Ye({props:{$$slots:{default:[jt]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&56|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function Tt(a){let e,l;return e=new Xe({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&56|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function St(a){let e,l,s,n,t,r,o,u,f,i,L,C;s=new ne({props:{decoration:"dark-op1",class:"flex items-center border-neutral-900 bg-neutral-800 px-1.5 text-sm text-zinc-200",$$slots:{default:[gt]},$$scope:{ctx:a}}}),t=new ne({props:{decoration:"dark-op1",class:"flex items-center gap-2 border-neutral-900 bg-neutral-800 text-sm text-zinc-200",$$slots:{default:[ht]},$$scope:{ctx:a}}}),t.$on("click",a[13]);function V(c){a[16](c)}let H={$$slots:{default:[kt]},$$scope:{ctx:a}};a[1]!==void 0&&(H.open=a[1]),o=new Ae({props:H}),y.push(()=>re(o,"open",V));function O(c){a[18](c)}let E={preventScroll:!1,$$slots:{default:[Tt]},$$scope:{ctx:a}};return a[0]!==void 0&&(E.open=a[0]),i=new We({props:E}),y.push(()=>re(i,"open",O)),{c(){e=T("div"),l=T("a"),h(s.$$.fragment),n=D(),h(t.$$.fragment),r=D(),h(o.$$.fragment),f=D(),h(i.$$.fragment),this.h()},l(c){e=S(c,"DIV",{class:!0});var _=z(e);l=S(_,"A",{href:!0,class:!0});var I=z(l);v(s.$$.fragment,I),I.forEach(m),n=M(_),v(t.$$.fragment,_),_.forEach(m),r=M(c),v(o.$$.fragment,c),f=M(c),v(i.$$.fragment,c),this.h()},h(){g(l,"href","/app/dashboard"),g(l,"class","block"),g(e,"class","relative flex h-auto items-center justify-between")},m(c,_){k(c,e,_),B(e,l),w(s,l,null),B(e,n),w(t,e,null),k(c,r,_),w(o,c,_),k(c,f,_),w(i,c,_),C=!0},p(c,_){const I={};_[1]&8&&(I.$$scope={dirty:_,ctx:c}),s.$set(I);const W={};_[0]&8|_[1]&8&&(W.$$scope={dirty:_,ctx:c}),t.$set(W);const X={};_[0]&15|_[1]&8&&(X.$$scope={dirty:_,ctx:c}),!u&&_[0]&2&&(u=!0,X.open=c[1],le(()=>u=!1)),o.$set(X);const U={};_[0]&56|_[1]&8&&(U.$$scope={dirty:_,ctx:c}),!L&&_[0]&1&&(L=!0,U.open=c[0],le(()=>L=!1)),i.$set(U)},i(c){C||(d(s.$$.fragment,c),d(t.$$.fragment,c),d(o.$$.fragment,c),d(i.$$.fragment,c),C=!0)},o(c){p(s.$$.fragment,c),p(t.$$.fragment,c),p(o.$$.fragment,c),p(i.$$.fragment,c),C=!1},d(c){c&&(m(e),m(r),m(f)),b(s),b(t),b(o,c),b(i,c)}}}function Zt(a,e,l){let s,n,t,r,o;Y(a,oe,$=>l(3,n=$)),Y(a,je,$=>l(5,r=$)),Y(a,Oe,$=>l(11,o=$));let{id:u}=e,f=!1,i,L=[],C=!1,V=!1;const H=fe.object({email:fe.string().email({message:Le(oe)("default.page.login.form.email.validEmailError")})}),O=qe(Se(H)),E=async()=>{const $=await U(t,H);return $.valid?!0:(I.set($.errors),!1)},c=Re(O,{resetForm:!1,validators:Ze(H),async onSubmit({validators:$,cancel:we}){console.log("onSubmit"),we(),await E()&&me()}}),{form:_,errors:I,enhance:W,validate:X,validateForm:U}=c;Y(a,_,$=>l(4,t=$));const me=()=>{try{const $=fetch("/api/mails/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:"sendLink",locale:r,to:t.email,owner:i.expand.owner.firstName,recipientName:i.name,link:s})});console.log("sendMailRes",$),l(0,C=!1),te.success(n("default.menu.share.mailLinkConfirmation"))}catch{console.log("error sending link per mail"),te.error(n("default.menu.share.mailLinkError"))}};ze(async()=>{l(10,f=!0),console.log("record",i),console.log("responses",L)}),Ve(()=>{Qe.collection("responses").unsubscribe("*")});function _e($){De.call(this,a,$)}const $e=()=>l(1,V=!0),de=()=>{l(1,V=!1),te.success(n("default.menu.share.copyLinkConfirmation"))},pe=()=>(l(1,V=!1),l(0,C=!0));function ge($){V=$,l(1,V)}function he($){a.$$.not_equal(t.email,$)&&(t.email=$,_.set(t))}function ve($){C=$,l(0,C)}return a.$$set=$=>{"id"in $&&l(9,u=$.id)},a.$$.update=()=>{a.$$.dirty[0]&2560&&l(2,s=`${o.url.origin}/app/fights/${u}/respond`),a.$$.dirty[0]&1024},[C,V,s,n,t,r,c,_,W,u,f,o,_e,$e,de,pe,ge,he,ve]}class yt extends J{constructor(e){super(),K(this,e,Zt,St,G,{id:9},null,[-1,-1])}}export{yt as S};
