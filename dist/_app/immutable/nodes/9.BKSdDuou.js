import{s as Ve,l as ye,m as Ae,o as Be,b as E,f as d,p as _,q as Ne,i as M,h as c,n as ge,r as Fe,u as et,e as k,t as O,a as H,c as D,d as R,g as C,j as Y,O as He,k as fe,X as tt,Y as lt,E as qe,K as rt,V as nt,H as Ge}from"../chunks/scheduler.D1PieneV.js";import{S as Ce,i as ze,t as V,g as pe,b as z,e as _e,c as N,a as F,m as q,d as P}from"../chunks/index.C3mFgbJp.js";import{e as se,d as st}from"../chunks/helpers.KbyKTsoX.js";import{p as ne,A as at}from"../chunks/pocketbase.jMCA8Re0.js";import{A as ot}from"../chunks/AppBottomMenu.CGULRXmT.js";import{g as it,f as ct,l as Je,t as ft}from"../chunks/page.C1MkfPZM.js";import{S as ut}from"../chunks/Share.fR5STS9B.js";import{I as dt,a as mt,b as ht,c as gt}from"../chunks/icon-steps.dGSELuxl.js";import"../chunks/memoize.w294uzKF.js";import{C as Ie,S as pt}from"../chunks/skeleton.CSi1qHJx.js";import{p as _t}from"../chunks/stores.D3KtNkVh.js";import{g as vt}from"../chunks/entry.CZGxI5J9.js";import{B as Qe}from"../chunks/button.DHfMyFex.js";function bt(a){let e,l,t=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],r={};for(let s=0;s<t.length;s+=1)r=ye(r,t[s]);return{c(){e=Ae("svg"),l=Ae("path"),this.h()},l(s){e=Be(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=E(e);l=Be(n,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),E(l).forEach(d),n.forEach(d),this.h()},h(){_(l,"fill-rule","evenodd"),_(l,"clip-rule","evenodd"),_(l,"d","M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z"),_(l,"fill",a[0]),Ne(e,r)},m(s,n){M(s,e,n),c(e,l)},p(s,[n]){n&1&&_(l,"fill",s[0]),Ne(e,r=it(t,[n&2&&{width:s[1]},n&2&&{height:s[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},n&4&&s[2]]))},i:ge,o:ge,d(s){s&&d(e)}}}function $t(a,e,l){const t=["color","size"];let r=Fe(e,t),{color:s="currentColor"}=e,{size:n=15}=e;return a.$$set=o=>{e=ye(ye({},e),et(o)),l(2,r=Fe(e,t)),"color"in o&&l(0,s=o.color),"size"in o&&l(1,n=o.size)},[s,n,r]}class wt extends Ce{constructor(e){super(),ze(this,e,$t,bt,Ve,{color:0,size:1})}}function Pe(a,e,l){const t=a.slice();return t[4]=e[l],t}function Ze(a,e,l){const t=a.slice();return t[7]=e[l],t}function Oe(a){let e,l,t,r,s;return l=new Ie({}),r=new Ie({props:{class:"-ml-2"}}),{c(){e=k("div"),N(l.$$.fragment),t=H(),N(r.$$.fragment),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);F(l.$$.fragment,o),t=C(o),F(r.$$.fragment,o),o.forEach(d),this.h()},h(){_(e,"class","rounded-full bg-green-600 px-1 py-[2px] text-2xs text-green-300 flex items-center")},m(n,o){M(n,e,o),q(l,e,null),c(e,t),q(r,e,null),s=!0},i(n){s||(V(l.$$.fragment,n),V(r.$$.fragment,n),s=!0)},o(n){z(l.$$.fragment,n),z(r.$$.fragment,n),s=!1},d(n){n&&d(e),P(l),P(r)}}}function kt(a){let e,l=se(a[4].content),t=[];for(let r=0;r<l.length;r+=1)t[r]=Re(Ze(a,l,r));return{c(){e=k("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=D(r,"DIV",{class:!0});var s=E(e);for(let n=0;n<t.length;n+=1)t[n].l(s);s.forEach(d),this.h()},h(){_(e,"class","flex flex-wrap gap-2")},m(r,s){M(r,e,s);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(r,s){if(s&12){l=se(r[4].content);let n;for(n=0;n<l.length;n+=1){const o=Ze(r,l,n);t[n]?t[n].p(o,s):(t[n]=Re(o),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){r&&d(e),He(t,r)}}}function Dt(a){let e=a[4].content+"",l;return{c(){l=O(e)},l(t){l=R(t,e)},m(t,r){M(t,l,r)},p:ge,d(t){t&&d(l)}}}function Re(a){let e,l=(a[2]==="en"?a[7].nameEN:a[7].nameDE)+"",t,r;return{c(){e=k("div"),t=O(l),r=H(),this.h()},l(s){e=D(s,"DIV",{class:!0});var n=E(e);t=R(n,l),r=C(n),n.forEach(d),this.h()},h(){_(e,"class","bg-"+a[4].color+"-background rounded-full px-2 py-0.5 svelte-70ipcu")},m(s,n){M(s,e,n),c(e,t),c(e,r)},p(s,n){n&4&&l!==(l=(s[2]==="en"?s[7].nameEN:s[7].nameDE)+"")&&Y(t,l)},d(s){s&&d(e)}}}function Ke(a){let e,l,t,r,s,n,o,i=a[4].icon+"",m,$,y;function L(h,g){return h[4].type==="text"?Dt:kt}let p=L(a)(a);return{c(){e=k("div"),l=k("div"),t=k("div"),r=k("div"),s=H(),n=k("div"),o=new tt(!1),m=H(),$=k("div"),p.c(),y=H(),this.h()},l(h){e=D(h,"DIV",{class:!0});var g=E(e);l=D(g,"DIV",{class:!0});var u=E(l);t=D(u,"DIV",{class:!0});var b=E(t);r=D(b,"DIV",{class:!0}),E(r).forEach(d),s=C(b),n=D(b,"DIV",{class:!0});var v=E(n);o=lt(v,!1),v.forEach(d),b.forEach(d),u.forEach(d),m=C(g),$=D(g,"DIV",{class:!0});var T=E($);p.l(T),T.forEach(d),y=C(g),g.forEach(d),this.h()},h(){_(r,"class","label-shadow svelte-70ipcu"),o.a=null,_(n,"class","icon fill-"+a[4].color+"-foreground svelte-70ipcu"),_(t,"class","label bg-"+a[4].color+"-background svelte-70ipcu"),_(l,"class","flex flex-shrink-0 items-center justify-center border-r border-black/5 px-3 pb-3 pt-3 group-first:pt-6 group-last:pb-6"),_($,"class","flex-grow break-all px-3 pb-3 pt-3 group-first:pt-6 group-last:pb-6"),_(e,"class","group flex items-stretch border-b border-black/5 bg-almostwhite text-xs shadow-md last:border-b-0")},m(h,g){M(h,e,g),c(e,l),c(l,t),c(t,r),c(t,s),c(t,n),o.m(i,n),c(e,m),c(e,$),p.m($,null),c(e,y)},p(h,g){p.p(h,g)},d(h){h&&d(e),p.d()}}}function Et(a){let e,l,t=(a[1].id===a[0].owner?a[1].firstName:a[0].expand.fight.name)+"",r,s,n=new Date(a[0].created).toLocaleDateString("de-DE")+"",o,i,m,$,y,L,S,p=a[1].id===a[0].owner&&a[0].opened&&Oe(),h=se(a[3]),g=[];for(let u=0;u<h.length;u+=1)g[u]=Ke(Pe(a,h,u));return{c(){e=k("div"),l=k("div"),r=O(t),s=O(" — "),o=O(n),i=H(),p&&p.c(),$=H(),y=k("div");for(let u=0;u<g.length;u+=1)g[u].c();this.h()},l(u){e=D(u,"DIV",{class:!0});var b=E(e);l=D(b,"DIV",{class:!0});var v=E(l);r=R(v,t),s=R(v," — "),o=R(v,n),v.forEach(d),i=C(b),p&&p.l(b),b.forEach(d),$=C(u),y=D(u,"DIV",{class:!0});var T=E(y);for(let G=0;G<g.length;G+=1)g[G].l(T);T.forEach(d),this.h()},h(){_(l,"class","rounded-full bg-neutral-400 bg-opacity-50 px-3 py-1 text-xs text-black"),_(e,"class",m=(a[1].id===a[0].owner?"justify-start":"justify-end")+" mb-3 flex items-center gap-2"),_(y,"class",L=(a[1].id===a[0].owner?"mr-10":"ml-10")+" relative mb-10 flex flex-col overflow-hidden rounded-xl shadow-xl")},m(u,b){M(u,e,b),c(e,l),c(l,r),c(l,s),c(l,o),c(e,i),p&&p.m(e,null),M(u,$,b),M(u,y,b);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(y,null);S=!0},p(u,[b]){if((!S||b&3)&&t!==(t=(u[1].id===u[0].owner?u[1].firstName:u[0].expand.fight.name)+"")&&Y(r,t),(!S||b&1)&&n!==(n=new Date(u[0].created).toLocaleDateString("de-DE")+"")&&Y(o,n),u[1].id===u[0].owner&&u[0].opened?p?b&3&&V(p,1):(p=Oe(),p.c(),V(p,1),p.m(e,null)):p&&(pe(),z(p,1,1,()=>{p=null}),_e()),(!S||b&3&&m!==(m=(u[1].id===u[0].owner?"justify-start":"justify-end")+" mb-3 flex items-center gap-2"))&&_(e,"class",m),b&12){h=se(u[3]);let v;for(v=0;v<h.length;v+=1){const T=Pe(u,h,v);g[v]?g[v].p(T,b):(g[v]=Ke(T),g[v].c(),g[v].m(y,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=h.length}(!S||b&3&&L!==(L=(u[1].id===u[0].owner?"mr-10":"ml-10")+" relative mb-10 flex flex-col overflow-hidden rounded-xl shadow-xl"))&&_(y,"class",L)},i(u){S||(V(p),S=!0)},o(u){z(p),S=!1},d(u){u&&(d(e),d($),d(y)),p&&p.d(),He(g,u)}}}function xt(a,e,l){let t,r;fe(a,ct,o=>l(1,t=o)),fe(a,Je,o=>l(2,r=o));let{record:s}=e;console.log("record",s);const n=[{icon:dt,color:"observation",type:"text",content:s.observation},{icon:mt,color:"feelings",type:"array",content:s.expand.feelings},{icon:ht,color:"needs",type:"array",content:s.expand.needs},{icon:gt,color:"request",type:"text",content:s.request}];return a.$$set=o=>{"record"in o&&l(0,s=o.record)},[s,t,r,n]}class Ue extends Ce{constructor(e){super(),ze(this,e,xt,Et,Ve,{record:0})}}function Xe(a,e,l){const t=a.slice();return t[13]=e[l],t}function yt(a){let e,l,t,r,s,n,o,i=a[6]("default.page.fight.heading")+"",m,$,y=a[7]==="en"?"with":"mit",L,S,p,h=a[1].name+"",g,u,b,v,T=a[5](a[1].created)+"",G,ve,J,ae=a[7]==="en"?"on the":"am",ue,be,oe=new Intl.DateTimeFormat("de-DE").format(new Date(a[1].created))+"",de,$e,A,B,we,Z,ee,je='<div style="background: radial-gradient(circle at center, rgba(255,255,255,0.7), transparent 67%);" class="absolute left-0 top-20 z-0 h-[800px] w-[800px] -translate-x-1/2 -translate-y-1/2 transform"></div>',ke,le,Q,De,Ee,U,K;t=new at({});const Se=[Ht,Vt],W=[];function Me(f,w){return f[3]?1:0}A=Me(a),B=W[A]=Se[A](a),Q=new Ue({props:{record:a[1]}});let te=se(a[2]),x=[];for(let f=0;f<te.length;f+=1)x[f]=Ye(Xe(a,te,f));const We=f=>z(x[f],1,1,()=>{x[f]=null});return U=new ot({props:{$$slots:{default:[jt]},$$scope:{ctx:a}}}),{c(){e=k("div"),l=k("div"),N(t.$$.fragment),r=H(),s=k("div"),n=k("div"),o=k("h1"),m=O(i),$=H(),L=O(y),S=H(),p=k("span"),g=O(h),u=H(),b=k("div"),v=k("div"),G=O(T),ve=H(),J=k("div"),ue=O(ae),be=H(),de=O(oe),$e=H(),B.c(),we=H(),Z=k("div"),ee=k("div"),ee.innerHTML=je,ke=H(),le=k("div"),N(Q.$$.fragment),De=H();for(let f=0;f<x.length;f+=1)x[f].c();Ee=H(),N(U.$$.fragment),this.h()},l(f){e=D(f,"DIV",{class:!0});var w=E(e);l=D(w,"DIV",{class:!0});var j=E(l);F(t.$$.fragment,j),r=C(j),s=D(j,"DIV",{class:!0});var ie=E(s);n=D(ie,"DIV",{class:!0});var X=E(n);o=D(X,"H1",{class:!0});var I=E(o);m=R(I,i),$=C(I),L=R(I,y),S=C(I),p=D(I,"SPAN",{class:!0});var ce=E(p);g=R(ce,h),ce.forEach(d),I.forEach(d),u=C(X),b=D(X,"DIV",{class:!0});var me=E(b);v=D(me,"DIV",{class:!0});var Te=E(v);G=R(Te,T),Te.forEach(d),ve=C(me),J=D(me,"DIV",{class:!0});var he=E(J);ue=R(he,ae),be=C(he),de=R(he,oe),he.forEach(d),me.forEach(d),$e=C(X),B.l(X),X.forEach(d),ie.forEach(d),we=C(j),Z=D(j,"DIV",{class:!0});var re=E(Z);ee=D(re,"DIV",{class:!0,"data-svelte-h":!0}),Ge(ee)!=="svelte-18ykgii"&&(ee.innerHTML=je),ke=C(re),le=D(re,"DIV",{class:!0});var Le=E(le);F(Q.$$.fragment,Le),Le.forEach(d),De=C(re);for(let xe=0;xe<x.length;xe+=1)x[xe].l(re);re.forEach(d),Ee=C(j),F(U.$$.fragment,j),j.forEach(d),w.forEach(d),this.h()},h(){_(p,"class","capitalize"),_(o,"class","font-heading flex-grow text-lg font-semibold"),_(v,"class","mb-0.5 rounded-full bg-neutral-600 py-0.5 text-center text-2xs text-neutral-300"),_(J,"class","text-xs"),_(b,"class","flex flex-shrink-0 flex-col"),_(n,"class","relative z-10 -mx-5 flex flex-row items-center justify-between gap-3 px-5 py-4 md:items-center md:bg-transparent md:pb-6"),_(s,"class","max-container"),_(ee,"class","relative z-0"),_(le,"class","relative z-10"),_(Z,"class","max-container relative pb-60 pt-10 md:bg-transparent"),_(l,"class","flex-grow"),_(e,"class","flex h-full flex-grow flex-col justify-between bg-background")},m(f,w){M(f,e,w),c(e,l),q(t,l,null),c(l,r),c(l,s),c(s,n),c(n,o),c(o,m),c(o,$),c(o,L),c(o,S),c(o,p),c(p,g),c(n,u),c(n,b),c(b,v),c(v,G),c(b,ve),c(b,J),c(J,ue),c(J,be),c(J,de),c(n,$e),W[A].m(n,null),c(l,we),c(l,Z),c(Z,ee),c(Z,ke),c(Z,le),q(Q,le,null),c(Z,De);for(let j=0;j<x.length;j+=1)x[j]&&x[j].m(Z,null);c(l,Ee),q(U,l,null),K=!0},p(f,w){(!K||w&64)&&i!==(i=f[6]("default.page.fight.heading")+"")&&Y(m,i),(!K||w&128)&&y!==(y=f[7]==="en"?"with":"mit")&&Y(L,y),(!K||w&2)&&h!==(h=f[1].name+"")&&Y(g,h),(!K||w&34)&&T!==(T=f[5](f[1].created)+"")&&Y(G,T),(!K||w&128)&&ae!==(ae=f[7]==="en"?"on the":"am")&&Y(ue,ae),(!K||w&2)&&oe!==(oe=new Intl.DateTimeFormat("de-DE").format(new Date(f[1].created))+"")&&Y(de,oe);let j=A;A=Me(f),A===j?W[A].p(f,w):(pe(),z(W[j],1,1,()=>{W[j]=null}),_e(),B=W[A],B?B.p(f,w):(B=W[A]=Se[A](f),B.c()),V(B,1),B.m(n,null));const ie={};if(w&2&&(ie.record=f[1]),Q.$set(ie),w&6){te=se(f[2]);let I;for(I=0;I<te.length;I+=1){const ce=Xe(f,te,I);x[I]?(x[I].p(ce,w),V(x[I],1)):(x[I]=Ye(ce),x[I].c(),V(x[I],1),x[I].m(Z,null))}for(pe(),I=te.length;I<x.length;I+=1)We(I);_e()}const X={};w&65552&&(X.$$scope={dirty:w,ctx:f}),U.$set(X)},i(f){if(!K){V(t.$$.fragment,f),V(B),V(Q.$$.fragment,f);for(let w=0;w<te.length;w+=1)V(x[w]);V(U.$$.fragment,f),K=!0}},o(f){z(t.$$.fragment,f),z(B),z(Q.$$.fragment,f),x=x.filter(Boolean);for(let w=0;w<x.length;w+=1)z(x[w]);z(U.$$.fragment,f),K=!1},d(f){f&&d(e),P(t),W[A].d(),P(Q),He(x,f),P(U)}}}function It(a){let e,l,t;return l=new pt({props:{class:"h-[20px] w-[100px] rounded-full"}}),{c(){e=k("div"),N(l.$$.fragment),this.h()},l(r){e=D(r,"DIV",{class:!0});var s=E(e);F(l.$$.fragment,s),s.forEach(d),this.h()},h(){_(e,"class","flex h-full flex-grow items-center justify-center")},m(r,s){M(r,e,s),q(l,e,null),t=!0},p:ge,i(r){t||(V(l.$$.fragment,r),t=!0)},o(r){z(l.$$.fragment,r),t=!1},d(r){r&&d(e),P(l)}}}function Vt(a){let e,l;return e=new Qe({props:{decoration:"floating-op1",class:"-mr-2 -mt-2 flex items-center justify-center border-red-400 bg-red-600 px-1.5 text-sm text-white transition hover:bg-offwhite",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),e.$on("click",a[8]),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},p(t,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Ht(a){let e,l;return e=new Qe({props:{decoration:"floating-op1",class:"-mr-2 -mt-2 flex items-center justify-center border-red-400 bg-red-600 px-1.5 text-sm text-white transition hover:bg-offwhite",$$slots:{default:[zt]},$$scope:{ctx:a}}}),e.$on("click",a[10]),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},p(t,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Ct(a){let e,l;return e=new Ie({}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function zt(a){let e,l;return e=new wt({}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Ye(a){let e,l='<div style="background: radial-gradient(circle at center, rgba(255,255,255,0.7), transparent 67%);" class="absolute left-96 top-20 z-0 h-[800px] w-[800px] -translate-x-1/2 -translate-y-1/2 transform"></div>',t,r,s,n,o;return s=new Ue({props:{record:a[13],adversary:a[1].name}}),{c(){e=k("div"),e.innerHTML=l,t=H(),r=k("div"),N(s.$$.fragment),n=H(),this.h()},l(i){e=D(i,"DIV",{class:!0,"data-svelte-h":!0}),Ge(e)!=="svelte-k8dcr4"&&(e.innerHTML=l),t=C(i),r=D(i,"DIV",{class:!0});var m=E(r);F(s.$$.fragment,m),n=C(m),m.forEach(d),this.h()},h(){_(e,"class","relative z-0"),_(r,"class","relative z-10 mt-8")},m(i,m){M(i,e,m),M(i,t,m),M(i,r,m),q(s,r,null),c(r,n),o=!0},p(i,m){const $={};m&4&&($.record=i[13]),m&2&&($.adversary=i[1].name),s.$set($)},i(i){o||(V(s.$$.fragment,i),o=!0)},o(i){z(s.$$.fragment,i),o=!1},d(i){i&&(d(e),d(t),d(r)),P(s)}}}function jt(a){let e,l;return e=new ut({props:{id:a[4]}}),{c(){N(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,r){q(e,t,r),l=!0},p(t,r){const s={};r&16&&(s.id=t[4]),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function St(a){let e,l,t,r;const s=[It,yt],n=[];function o(i,m){return i[0]?1:0}return e=o(a),l=n[e]=s[e](a),{c(){l.c(),t=qe()},l(i){l.l(i),t=qe()},m(i,m){n[e].m(i,m),M(i,t,m),r=!0},p(i,[m]){let $=e;e=o(i),e===$?n[e].p(i,m):(pe(),z(n[$],1,1,()=>{n[$]=null}),_e(),l=n[e],l?l.p(i,m):(l=n[e]=s[e](i),l.c()),V(l,1),l.m(t.parentNode,t))},i(i){r||(V(l),r=!0)},o(i){z(l),r=!1},d(i){i&&d(t),n[e].d(i)}}}function Mt(a,e,l){let t,r,s,n,o;fe(a,_t,h=>l(9,s=h)),fe(a,ft,h=>l(6,n=h)),fe(a,Je,h=>l(7,o=h));let i=!1,m,$=[],y=!1;const L=async()=>{ne.collection("fights").subscribe(t,function(h){l(1,m=h.record)},{expand:"feelings, needs, owner"}),l(1,m=await ne.collection("fights").getOne(t,{expand:"feelings, needs, owner"})),ne.collection("responses").subscribe("*",function(h){if(h.action==="create"&&h.record.fight===m.id){const g=h.record;l(2,$=[...$,g])}},{expand:"fight, feelings, needs"}),l(2,$=await ne.collection("responses").getFullList({filter:`fight = '${m.id}'`,expand:"fight, feelings, needs"}))},S=async()=>{try{await ne.collection("fights").delete(t),l(3,y=!1),vt("/app/auth/login")}catch{console.error("error deleting fight")}};rt(async()=>{await L(),l(0,i=!0),console.log("record",m),console.log("responses",$)}),nt(()=>{ne.collection("responses").unsubscribe("*")});const p=()=>l(3,y=!0);return a.$$.update=()=>{a.$$.dirty&512&&l(4,t=s.params.id),a.$$.dirty&3&&l(5,r=()=>i?st(m.created):"...")},[i,m,$,y,t,r,n,o,S,s,p]}class Yt extends Ce{constructor(e){super(),ze(this,e,Mt,St,Ve,{})}}export{Yt as component};
