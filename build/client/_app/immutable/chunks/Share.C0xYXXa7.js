import{s as U,l as B,m as R,o as A,b as z,f as m,p as $,q,i as k,h as j,n as Z,r as F,u as ee,A as be,e as T,c as S,v as ae,B as Ce,C as Ee,D as ke,K as y,a as V,g as M,L as le,k as X,F as Le,I as ze,Y as De,t as P,d as O,j as x,z as Ve,J as ue,x as se,T as Me,y as ce,$ as je}from"./scheduler.Clviz5E8.js";import{S as K,i as Y,t as g,b as p,e as re,c as h,a as v,m as w,d as b}from"./index.C2t9fK9o.js";import{g as G,t as oe,l as Be,a as He}from"./page.Bd4QL5cq.js";import"./index.CLzr7ZlM.js";import"./entry.DyrkCWPu.js";import{I as Te}from"./input.BS6oPw8V.js";import{c as Se,z as Ze,F as Fe,C as Ie,a as Pe,b as Oe}from"./zod.DbI0_dRq.js";import{p as Ne}from"./stores.Qg9DDuR0.js";import{z as fe,s as Re}from"./memoize.B38AcDh4.js";import{D as Ae,d as qe,a as xe,b as Je,c as Ue,C as Ke,e as Ye}from"./index.DyBJejKP.js";import{p as Ge}from"./pocketbase.PRKJtBbO.js";import{R as Qe,D as We,a as Xe,b as ye,c as et}from"./index.ChI6pjuu.js";import{t as te}from"./Toaster.svelte_svelte_type_style_lang.CKI-7ju-.js";import{a as ne}from"./button.OZ_DY3bL.js";import{C as tt}from"./CaretLeft.C7mtIpMG.js";import{c as ie}from"./helpers.F_hB7tz5.js";import{P as lt}from"./PaperPlane.BTEsQ_xq.js";function st(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=B(n,s[t]);return{c(){e=R("svg"),l=R("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=z(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),z(l).forEach(m),r.forEach(m),this.h()},h(){$(l,"fill-rule","evenodd"),$(l,"clip-rule","evenodd"),$(l,"d","M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z"),$(l,"fill",a[0]),q(e,n)},m(t,r){k(t,e,r),j(e,l)},p(t,[r]){r&1&&$(l,"fill",t[0]),q(e,n=G(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&m(e)}}}function rt(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=B(B({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class nt extends K{constructor(e){super(),Y(this,e,rt,st,U,{color:0,size:1})}}function at(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=B(n,s[t]);return{c(){e=R("svg"),l=R("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=z(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),z(l).forEach(m),r.forEach(m),this.h()},h(){$(l,"fill-rule","evenodd"),$(l,"clip-rule","evenodd"),$(l,"d","M1 2C0.447715 2 0 2.44772 0 3V12C0 12.5523 0.447715 13 1 13H14C14.5523 13 15 12.5523 15 12V3C15 2.44772 14.5523 2 14 2H1ZM1 3L14 3V3.92494C13.9174 3.92486 13.8338 3.94751 13.7589 3.99505L7.5 7.96703L1.24112 3.99505C1.16621 3.94751 1.0826 3.92486 1 3.92494V3ZM1 4.90797V12H14V4.90797L7.74112 8.87995C7.59394 8.97335 7.40606 8.97335 7.25888 8.87995L1 4.90797Z"),$(l,"fill",a[0]),q(e,n)},m(t,r){k(t,e,r),j(e,l)},p(t,[r]){r&1&&$(l,"fill",t[0]),q(e,n=G(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&m(e)}}}function ot(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=B(B({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class ft extends K{constructor(e){super(),Y(this,e,ot,at,U,{color:0,size:1})}}function it(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=B(n,s[t]);return{c(){e=R("svg"),l=R("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=z(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),z(l).forEach(m),r.forEach(m),this.h()},h(){$(l,"fill-rule","evenodd"),$(l,"clip-rule","evenodd"),$(l,"d","M5 7.50003C5 8.32845 4.32843 9.00003 3.5 9.00003C2.67157 9.00003 2 8.32845 2 7.50003C2 6.6716 2.67157 6.00003 3.5 6.00003C4.32843 6.00003 5 6.6716 5 7.50003ZM5.71313 8.66388C5.29445 9.45838 4.46048 10 3.5 10C2.11929 10 1 8.88074 1 7.50003C1 6.11931 2.11929 5.00003 3.5 5.00003C4.46048 5.00003 5.29445 5.54167 5.71313 6.33616L9.10424 4.21671C9.03643 3.98968 9 3.74911 9 3.50003C9 2.11932 10.1193 1.00003 11.5 1.00003C12.8807 1.00003 14 2.11932 14 3.50003C14 4.88074 12.8807 6.00003 11.5 6.00003C10.6915 6.00003 9.97264 5.61624 9.51566 5.0209L5.9853 7.22738C5.99502 7.31692 6 7.40789 6 7.50003C6 7.59216 5.99502 7.68312 5.9853 7.77267L9.51567 9.97915C9.97265 9.38382 10.6915 9.00003 11.5 9.00003C12.8807 9.00003 14 10.1193 14 11.5C14 12.8807 12.8807 14 11.5 14C10.1193 14 9 12.8807 9 11.5C9 11.2509 9.03643 11.0104 9.10425 10.7833L5.71313 8.66388ZM11.5 5.00003C12.3284 5.00003 13 4.32846 13 3.50003C13 2.6716 12.3284 2.00003 11.5 2.00003C10.6716 2.00003 10 2.6716 10 3.50003C10 4.32846 10.6716 5.00003 11.5 5.00003ZM13 11.5C13 12.3285 12.3284 13 11.5 13C10.6716 13 10 12.3285 10 11.5C10 10.6716 10.6716 10 11.5 10C12.3284 10 13 10.6716 13 11.5Z"),$(l,"fill",a[0]),q(e,n)},m(t,r){k(t,e,r),j(e,l)},p(t,[r]){r&1&&$(l,"fill",t[0]),q(e,n=G(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&m(e)}}}function ut(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=B(B({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class ct extends K{constructor(e){super(),Y(this,e,ut,it,U,{color:0,size:1})}}function mt(a){let e,l,s;const n=a[4].default,t=be(n,a,a[3],null);let r=[{class:l=ie("mt-auto flex flex-col gap-2 p-4",a[1])},a[2]],o={};for(let i=0;i<r.length;i+=1)o=B(o,r[i]);return{c(){e=T("div"),t&&t.c(),this.h()},l(i){e=S(i,"DIV",{class:!0});var f=z(e);t&&t.l(f),f.forEach(m),this.h()},h(){ae(e,o)},m(i,f){k(i,e,f),t&&t.m(e,null),a[5](e),s=!0},p(i,[f]){t&&t.p&&(!s||f&8)&&Ce(t,n,i,i[3],s?ke(n,i[3],f,null):Ee(i[3]),null),ae(e,o=G(r,[(!s||f&2&&l!==(l=ie("mt-auto flex flex-col gap-2 p-4",i[1])))&&{class:l},f&4&&i[2]]))},i(i){s||(g(t,i),s=!0)},o(i){p(t,i),s=!1},d(i){i&&m(e),t&&t.d(i),a[5](null)}}}function _t(a,e,l){const s=["el","class"];let n=F(e,s),{$$slots:t={},$$scope:r}=e,{el:o=void 0}=e,{class:i=void 0}=e;function f(u){y[u?"unshift":"push"](()=>{o=u,l(0,o)})}return a.$$set=u=>{e=B(B({},e),ee(u)),l(2,n=F(e,s)),"el"in u&&l(0,o=u.el),"class"in u&&l(1,i=u.class),"$$scope"in u&&l(3,r=u.$$scope)},[o,i,n,r,t,f]}class dt extends K{constructor(e){super(),Y(this,e,_t,mt,U,{el:0,class:1})}}async function gt(a){if("clipboard"in navigator)await navigator.clipboard.writeText(a);else{const e=document.createElement("input");e.type="text",e.disabled=!0,e.style.setProperty("position","fixed"),e.style.setProperty("z-index","-100"),e.style.setProperty("pointer-events","none"),e.style.setProperty("opacity","0"),e.value=a,document.body.appendChild(e),e.click(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}const pt=(a,e)=>{async function l(){if(n)try{await gt(n),a.dispatchEvent(new CustomEvent("svelte-copy",{detail:n}))}catch(t){a.dispatchEvent(new CustomEvent("svelte-copy:error",{detail:t}))}}let s=typeof e=="string"?["click"]:[e.events].flat(1),n=typeof e=="string"?e:e.text;return s.forEach(t=>{a.addEventListener(t,l,!0)}),{update:t=>{const r=typeof t=="string"?["click"]:[t.events].flat(1),o=typeof t=="string"?t:t.text,i=r.filter(u=>!s.includes(u)),f=s.filter(u=>!r.includes(u));i.forEach(u=>{a.addEventListener(u,l,!0)}),f.forEach(u=>{a.removeEventListener(u,l,!0)}),s=r,n=o},destroy:()=>{s.forEach(t=>{a.removeEventListener(t,l,!0)})}}};function $t(a){let e,l;return e=new tt({props:{class:"h-4 w-4 rounded-full"}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p:Z,i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function ht(a){let e=a[3]("default.menu.share.cta")+"",l,s,n,t;return n=new ct({}),{c(){l=P(e),s=V(),h(n.$$.fragment)},l(r){l=O(r,e),s=M(r),v(n.$$.fragment,r)},m(r,o){k(r,l,o),k(r,s,o),w(n,r,o),t=!0},p(r,o){(!t||o[0]&8)&&e!==(e=r[3]("default.menu.share.cta")+"")&&x(l,e)},i(r){t||(g(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&(m(l),m(s)),b(n,r)}}}function vt(a){let e=a[3]("default.menu.share.cta")+"",l;return{c(){l=P(e)},l(s){l=O(s,e)},m(s,n){k(s,l,n)},p(s,n){n[0]&8&&e!==(e=s[3]("default.menu.share.cta")+"")&&x(l,e)},d(s){s&&m(l)}}}function wt(a){let e,l,s,n;return s=new Ye({props:{class:"text-red-600"}}),{c(){e=T("div"),l=T("div"),h(s.$$.fragment),this.h()},l(t){e=S(t,"DIV",{class:!0});var r=z(e);l=S(r,"DIV",{class:!0});var o=z(l);v(s.$$.fragment,o),o.forEach(m),r.forEach(m),this.h()},h(){$(l,"class","icon fill-feelings-foreground svelte-ljnb6t"),$(e,"class","label bg-feelings-background svelte-ljnb6t")},m(t,r){k(t,e,r),j(e,l),w(s,l,null),n=!0},p:Z,i(t){n||(g(s.$$.fragment,t),n=!0)},o(t){p(s.$$.fragment,t),n=!1},d(t){t&&m(e),b(s)}}}function bt(a){let e,l,s,n,t;return l=new Ue({props:{$$slots:{default:[vt]},$$scope:{ctx:a}}}),n=new Ke({props:{$$slots:{default:[wt]},$$scope:{ctx:a}}}),{c(){e=T("div"),h(l.$$.fragment),s=V(),h(n.$$.fragment),this.h()},l(r){e=S(r,"DIV",{class:!0});var o=z(e);v(l.$$.fragment,o),s=M(o),v(n.$$.fragment,o),o.forEach(m),this.h()},h(){$(e,"class","flex items-center justify-between")},m(r,o){k(r,e,o),w(l,e,null),j(e,s),w(n,e,null),t=!0},p(r,o){const i={};o[0]&8|o[1]&8&&(i.$$scope={dirty:o,ctx:r}),l.$set(i);const f={};o[1]&8&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){t||(g(l.$$.fragment,r),g(n.$$.fragment,r),t=!0)},o(r){p(l.$$.fragment,r),p(n.$$.fragment,r),t=!1},d(r){r&&m(e),b(l),b(n)}}}function Ct(a){let e,l=a[3]("default.menu.share.copyLink")+"",s,n,t,r,o,i,f=a[3]("default.menu.share.mailLink")+"",u,L,C,D,H,N;return t=new nt({}),C=new ft({}),{c(){e=T("button"),s=P(l),n=V(),h(t.$$.fragment),o=V(),i=T("button"),u=P(f),L=V(),h(C.$$.fragment),this.h()},l(E){e=S(E,"BUTTON",{class:!0});var c=z(e);s=O(c,l),n=M(c),v(t.$$.fragment,c),c.forEach(m),o=M(E),i=S(E,"BUTTON",{class:!0});var _=z(i);u=O(_,f),L=M(_),v(C.$$.fragment,_),_.forEach(m),this.h()},h(){$(e,"class","skeumorphic-button flex w-full items-center justify-between rounded-full px-4 py-1.5 text-sm svelte-ljnb6t"),$(i,"class","skeumorphic-button flex w-full items-center justify-between rounded-full px-4 py-1.5 text-sm svelte-ljnb6t")},m(E,c){k(E,e,c),j(e,s),j(e,n),w(t,e,null),k(E,o,c),k(E,i,c),j(i,u),j(i,L),w(C,i,null),D=!0,H||(N=[ue(r=pt.call(null,e,a[2])),se(e,"svelte-copy",a[15]),se(i,"click",a[16])],H=!0)},p(E,c){(!D||c[0]&8)&&l!==(l=E[3]("default.menu.share.copyLink")+"")&&x(s,l),r&&Me(r.update)&&c[0]&4&&r.update.call(null,E[2]),(!D||c[0]&8)&&f!==(f=E[3]("default.menu.share.mailLink")+"")&&x(u,f)},i(E){D||(g(t.$$.fragment,E),g(C.$$.fragment,E),D=!0)},o(E){p(t.$$.fragment,E),p(C.$$.fragment,E),D=!1},d(E){E&&(m(e),m(o),m(i)),b(t),b(C),H=!1,ce(N)}}}function Et(a){let e,l,s,n;return e=new Je({props:{class:"w-full border-b border-black/10",$$slots:{default:[bt]},$$scope:{ctx:a}}}),s=new dt({props:{class:"flex flex-col gap-4 pb-10",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),k(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&8|r[1]&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o);const i={};r[0]&15|r[1]&8&&(i.$$scope={dirty:r,ctx:t}),s.$set(i)},i(t){n||(g(e.$$.fragment,t),g(s.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),p(s.$$.fragment,t),n=!1},d(t){t&&m(l),b(e,t),b(s,t)}}}function kt(a){let e,l;return e=new xe({props:{class:"",$$slots:{default:[Et]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&15|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function Lt(a){let e=a[3]("default.menu.share.mailDialogText")+"",l;return{c(){l=P(e)},l(s){l=O(s,e)},m(s,n){k(s,l,n)},p(s,n){n[0]&8&&e!==(e=s[3]("default.menu.share.mailDialogText")+"")&&x(l,e)},d(s){s&&m(l)}}}function zt(a){let e;return{c(){e=P("E-Mail")},l(l){e=O(l,"E-Mail")},m(l,s){k(l,e,s)},d(l){l&&m(e)}}}function Dt(a){let e,l,s,n,t;e=new Oe({props:{class:"form-label",$$slots:{default:[zt]},$$scope:{ctx:a}}});const r=[a[33],{type:"text"},{placeholder:a[5]==="en"?"E-Mail":"E-Mail Adresse"},{class:"mb-4"}];function o(f){a[18](f)}let i={};for(let f=0;f<r.length;f+=1)i=B(i,r[f]);return a[4].email!==void 0&&(i.value=a[4].email),s=new Te({props:i}),y.push(()=>re(s,"value",o)),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(f){v(e.$$.fragment,f),l=M(f),v(s.$$.fragment,f)},m(f,u){w(e,f,u),k(f,l,u),w(s,f,u),t=!0},p(f,u){const L={};u[1]&8&&(L.$$scope={dirty:u,ctx:f}),e.$set(L);const C=u[0]&32|u[1]&4?G(r,[u[1]&4&&He(f[33]),r[1],u[0]&32&&{placeholder:f[5]==="en"?"E-Mail":"E-Mail Adresse"},r[3]]):{};!n&&u[0]&16&&(n=!0,C.value=f[4].email,le(()=>n=!1)),s.$set(C)},i(f){t||(g(e.$$.fragment,f),g(s.$$.fragment,f),t=!0)},o(f){p(e.$$.fragment,f),p(s.$$.fragment,f),t=!1},d(f){f&&m(l),b(e,f),b(s,f)}}}function Vt(a){let e,l,s,n;return e=new Ie({props:{$$slots:{default:[Dt,({attrs:t})=>({33:t}),({attrs:t})=>[0,t?4:0]]},$$scope:{ctx:a}}}),s=new Pe({}),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),k(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&48|r[1]&12&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),g(s.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),p(s.$$.fragment,t),n=!1},d(t){t&&m(l),b(e,t),b(s,t)}}}function Mt(a){let e=a[3]("default.menu.share.cta")+"",l,s,n,t;return n=new lt({}),{c(){l=P(e),s=V(),h(n.$$.fragment)},l(r){l=O(r,e),s=M(r),v(n.$$.fragment,r)},m(r,o){k(r,l,o),k(r,s,o),w(n,r,o),t=!0},p(r,o){(!t||o[0]&8)&&e!==(e=r[3]("default.menu.share.cta")+"")&&x(l,e)},i(r){t||(g(n.$$.fragment,r),t=!0)},o(r){p(n.$$.fragment,r),t=!1},d(r){r&&(m(l),m(s)),b(n,r)}}}function jt(a){let e,l,s,n,t,r,o,i;return l=new Fe({props:{form:a[6],name:"email",class:"w-full",$$slots:{default:[Vt]},$$scope:{ctx:a}}}),t=new ne({props:{type:"submit",class:"flex items-center gap-3",$$slots:{default:[Mt]},$$scope:{ctx:a}}}),{c(){e=T("form"),h(l.$$.fragment),s=V(),n=T("div"),h(t.$$.fragment),this.h()},l(f){e=S(f,"FORM",{class:!0});var u=z(e);v(l.$$.fragment,u),s=M(u),n=S(u,"DIV",{class:!0});var L=z(n);v(t.$$.fragment,L),L.forEach(m),u.forEach(m),this.h()},h(){$(n,"class","flex w-full justify-end"),$(e,"class","-mt-1 flex h-full flex-grow flex-col items-start")},m(f,u){k(f,e,u),w(l,e,null),j(e,s),j(e,n),w(t,n,null),r=!0,o||(i=[se(e,"submit",je(a[13])),ue(a[8].call(null,e))],o=!0)},p(f,u){const L={};u[0]&48|u[1]&8&&(L.$$scope={dirty:u,ctx:f}),l.$set(L);const C={};u[0]&8|u[1]&8&&(C.$$scope={dirty:u,ctx:f}),t.$set(C)},i(f){r||(g(l.$$.fragment,f),g(t.$$.fragment,f),r=!0)},o(f){p(l.$$.fragment,f),p(t.$$.fragment,f),r=!1},d(f){f&&m(e),b(l),b(t),o=!1,ce(i)}}}function Bt(a){let e,l,s,n;return e=new ye({props:{class:"mb-10 max-w-[9em] leading-tight",$$slots:{default:[Lt]},$$scope:{ctx:a}}}),s=new et({props:{$$slots:{default:[jt]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),k(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&8|r[1]&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o);const i={};r[0]&56|r[1]&8&&(i.$$scope={dirty:r,ctx:t}),s.$set(i)},i(t){n||(g(e.$$.fragment,t),g(s.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),p(s.$$.fragment,t),n=!1},d(t){t&&m(l),b(e,t),b(s,t)}}}function Ht(a){let e,l;return e=new Xe({props:{$$slots:{default:[Bt]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&56|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function Tt(a){let e,l;return e=new We({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&56|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){p(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function St(a){let e,l,s,n,t,r,o,i,f,u,L,C;s=new ne({props:{decoration:"dark-op1",class:"flex items-center border-neutral-900 bg-neutral-800 px-1.5 text-sm text-zinc-200",$$slots:{default:[$t]},$$scope:{ctx:a}}}),t=new ne({props:{decoration:"dark-op1",class:"flex items-center gap-2 border-neutral-900 bg-neutral-800 text-sm text-zinc-200",$$slots:{default:[ht]},$$scope:{ctx:a}}}),t.$on("click",a[14]);function D(c){a[17](c)}let H={$$slots:{default:[kt]},$$scope:{ctx:a}};a[1]!==void 0&&(H.open=a[1]),o=new Ae({props:H}),y.push(()=>re(o,"open",D));function N(c){a[19](c)}let E={preventScroll:!1,$$slots:{default:[Tt]},$$scope:{ctx:a}};return a[0]!==void 0&&(E.open=a[0]),u=new Qe({props:E}),y.push(()=>re(u,"open",N)),{c(){e=T("div"),l=T("a"),h(s.$$.fragment),n=V(),h(t.$$.fragment),r=V(),h(o.$$.fragment),f=V(),h(u.$$.fragment),this.h()},l(c){e=S(c,"DIV",{class:!0});var _=z(e);l=S(_,"A",{href:!0,class:!0});var I=z(l);v(s.$$.fragment,I),I.forEach(m),n=M(_),v(t.$$.fragment,_),_.forEach(m),r=M(c),v(o.$$.fragment,c),f=M(c),v(u.$$.fragment,c),this.h()},h(){$(l,"href","/app/dashboard"),$(l,"class","block"),$(e,"class","relative flex h-auto items-center justify-between")},m(c,_){k(c,e,_),j(e,l),w(s,l,null),j(e,n),w(t,e,null),k(c,r,_),w(o,c,_),k(c,f,_),w(u,c,_),C=!0},p(c,_){const I={};_[1]&8&&(I.$$scope={dirty:_,ctx:c}),s.$set(I);const Q={};_[0]&8|_[1]&8&&(Q.$$scope={dirty:_,ctx:c}),t.$set(Q);const W={};_[0]&15|_[1]&8&&(W.$$scope={dirty:_,ctx:c}),!i&&_[0]&2&&(i=!0,W.open=c[1],le(()=>i=!1)),o.$set(W);const J={};_[0]&56|_[1]&8&&(J.$$scope={dirty:_,ctx:c}),!L&&_[0]&1&&(L=!0,J.open=c[0],le(()=>L=!1)),u.$set(J)},i(c){C||(g(s.$$.fragment,c),g(t.$$.fragment,c),g(o.$$.fragment,c),g(u.$$.fragment,c),C=!0)},o(c){p(s.$$.fragment,c),p(t.$$.fragment,c),p(o.$$.fragment,c),p(u.$$.fragment,c),C=!1},d(c){c&&(m(e),m(r),m(f)),b(s),b(t),b(o,c),b(u,c)}}}function Zt(a,e,l){let s,n,t,r,o;X(a,oe,d=>l(3,n=d)),X(a,Be,d=>l(5,r=d)),X(a,Ne,d=>l(12,o=d));let{id:i}=e,{record:f}=e,u=!1,L=[],C=!1,D=!1;const H=fe.object({email:fe.string().email({message:Le(oe)("default.page.login.form.email.validEmailError")})}),N=qe(Se(H)),E=async()=>{const d=await J(t,H);return d.valid?!0:(I.set(d.errors),!1)},c=Re(N,{resetForm:!1,validators:Ze(H),async onSubmit({validators:d,cancel:we}){console.log("onSubmit"),we(),await E()&&me()}}),{form:_,errors:I,enhance:Q,validate:W,validateForm:J}=c;X(a,_,d=>l(4,t=d));const me=()=>{try{console.log("send link record",f);const d=fetch("/api/mails/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:"sendLink",locale:r,to:t.email,owner:f.expand.owner.firstName,recipientName:f.name,link:s})});console.log("sendMailRes",d),l(0,C=!1),te.success(n("default.menu.share.mailLinkConfirmation"))}catch(d){console.log("error sending link per mail",d),te.error(n("default.menu.share.mailLinkError"))}};ze(async()=>{l(11,u=!0),console.log("record",f),console.log("responses",L)}),De(()=>{Ge.collection("responses").unsubscribe("*")});function _e(d){Ve.call(this,a,d)}const de=()=>l(1,D=!0),ge=()=>{l(1,D=!1),te.success(n("default.menu.share.copyLinkConfirmation"))},pe=()=>(l(1,D=!1),l(0,C=!0));function $e(d){D=d,l(1,D)}function he(d){a.$$.not_equal(t.email,d)&&(t.email=d,_.set(t))}function ve(d){C=d,l(0,C)}return a.$$set=d=>{"id"in d&&l(9,i=d.id),"record"in d&&l(10,f=d.record)},a.$$.update=()=>{a.$$.dirty[0]&4608&&l(2,s=`${o.url.origin}/app/fights/${i}/respond`),a.$$.dirty[0]&3072},[C,D,s,n,t,r,c,_,Q,i,f,u,o,_e,de,ge,pe,$e,he,ve]}class yt extends K{constructor(e){super(),Y(this,e,Zt,St,U,{id:9,record:10},null,[-1,-1])}}export{yt as S};
