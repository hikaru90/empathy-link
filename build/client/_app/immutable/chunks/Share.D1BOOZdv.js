import{s as G,l as B,m as x,o as A,b as L,f as _,p as g,q,i as C,h as D,n as Z,r as F,u as ee,A as be,e as T,c as I,v as ae,B as Ce,C as Ee,D as ke,K as y,a as V,g as M,L as le,k as X,I as Le,G as ze,Y as De,t as N,d as R,j as J,z as Ve,J as ue,x as se,T as Me,y as ce,$ as je}from"./scheduler.BGpOBVyA.js";import{S as K,i as Y,t as p,b as $,f as re,c as h,a as v,m as w,d as b}from"./index.wJhSdTM5.js";import{g as Q,t as oe,l as Be,a as He}from"./page.BxjNqAN0.js";import"./index.DfSKg4Ih.js";import"./entry.B5Mv6Uxa.js";import{I as Te}from"./input.Dnbnrzao.js";import{e as Ie,z as Se,F as Ze,C as Fe,a as Pe,b as Oe}from"./zod.DVU-mH4r.js";import{p as Ne}from"./stores.C46p-EcX.js";import{z as fe,s as Re}from"./memoize.DZzCiDwd.js";import{D as xe,d as Ae,a as qe,b as Je,c as Ue,C as Ge,e as Ke}from"./index.BEk7VaRI.js";import{p as Ye}from"./pocketbase.Ce4YzWbP.js";import{R as Qe,D as We,a as Xe,b as ye,c as et}from"./index.B1FcFaw1.js";import{t as te}from"./Toaster.svelte_svelte_type_style_lang.B5laX6kM.js";import{a as ne}from"./button.A7J3RAYz.js";import{C as tt}from"./CaretLeft.BzQWyqnQ.js";import{c as ie}from"./helpers.C2F2lmQ3.js";import{P as lt}from"./PaperPlane.C_hipqKo.js";function st(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=B(n,s[t]);return{c(){e=x("svg"),l=x("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=L(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),L(l).forEach(_),r.forEach(_),this.h()},h(){g(l,"fill-rule","evenodd"),g(l,"clip-rule","evenodd"),g(l,"d","M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z"),g(l,"fill",a[0]),q(e,n)},m(t,r){C(t,e,r),D(e,l)},p(t,[r]){r&1&&g(l,"fill",t[0]),q(e,n=Q(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&_(e)}}}function rt(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=B(B({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class nt extends K{constructor(e){super(),Y(this,e,rt,st,G,{color:0,size:1})}}function at(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=B(n,s[t]);return{c(){e=x("svg"),l=x("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=L(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),L(l).forEach(_),r.forEach(_),this.h()},h(){g(l,"fill-rule","evenodd"),g(l,"clip-rule","evenodd"),g(l,"d","M1 2C0.447715 2 0 2.44772 0 3V12C0 12.5523 0.447715 13 1 13H14C14.5523 13 15 12.5523 15 12V3C15 2.44772 14.5523 2 14 2H1ZM1 3L14 3V3.92494C13.9174 3.92486 13.8338 3.94751 13.7589 3.99505L7.5 7.96703L1.24112 3.99505C1.16621 3.94751 1.0826 3.92486 1 3.92494V3ZM1 4.90797V12H14V4.90797L7.74112 8.87995C7.59394 8.97335 7.40606 8.97335 7.25888 8.87995L1 4.90797Z"),g(l,"fill",a[0]),q(e,n)},m(t,r){C(t,e,r),D(e,l)},p(t,[r]){r&1&&g(l,"fill",t[0]),q(e,n=Q(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&_(e)}}}function ot(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=B(B({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class ft extends K{constructor(e){super(),Y(this,e,ot,at,G,{color:0,size:1})}}function it(a){let e,l,s=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let t=0;t<s.length;t+=1)n=B(n,s[t]);return{c(){e=x("svg"),l=x("path"),this.h()},l(t){e=A(t,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var r=L(e);l=A(r,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),L(l).forEach(_),r.forEach(_),this.h()},h(){g(l,"fill-rule","evenodd"),g(l,"clip-rule","evenodd"),g(l,"d","M5 7.50003C5 8.32845 4.32843 9.00003 3.5 9.00003C2.67157 9.00003 2 8.32845 2 7.50003C2 6.6716 2.67157 6.00003 3.5 6.00003C4.32843 6.00003 5 6.6716 5 7.50003ZM5.71313 8.66388C5.29445 9.45838 4.46048 10 3.5 10C2.11929 10 1 8.88074 1 7.50003C1 6.11931 2.11929 5.00003 3.5 5.00003C4.46048 5.00003 5.29445 5.54167 5.71313 6.33616L9.10424 4.21671C9.03643 3.98968 9 3.74911 9 3.50003C9 2.11932 10.1193 1.00003 11.5 1.00003C12.8807 1.00003 14 2.11932 14 3.50003C14 4.88074 12.8807 6.00003 11.5 6.00003C10.6915 6.00003 9.97264 5.61624 9.51566 5.0209L5.9853 7.22738C5.99502 7.31692 6 7.40789 6 7.50003C6 7.59216 5.99502 7.68312 5.9853 7.77267L9.51567 9.97915C9.97265 9.38382 10.6915 9.00003 11.5 9.00003C12.8807 9.00003 14 10.1193 14 11.5C14 12.8807 12.8807 14 11.5 14C10.1193 14 9 12.8807 9 11.5C9 11.2509 9.03643 11.0104 9.10425 10.7833L5.71313 8.66388ZM11.5 5.00003C12.3284 5.00003 13 4.32846 13 3.50003C13 2.6716 12.3284 2.00003 11.5 2.00003C10.6716 2.00003 10 2.6716 10 3.50003C10 4.32846 10.6716 5.00003 11.5 5.00003ZM13 11.5C13 12.3285 12.3284 13 11.5 13C10.6716 13 10 12.3285 10 11.5C10 10.6716 10.6716 10 11.5 10C12.3284 10 13 10.6716 13 11.5Z"),g(l,"fill",a[0]),q(e,n)},m(t,r){C(t,e,r),D(e,l)},p(t,[r]){r&1&&g(l,"fill",t[0]),q(e,n=Q(s,[r&2&&{width:t[1]},r&2&&{height:t[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r&4&&t[2]]))},i:Z,o:Z,d(t){t&&_(e)}}}function ut(a,e,l){const s=["color","size"];let n=F(e,s),{color:t="currentColor"}=e,{size:r=15}=e;return a.$$set=o=>{e=B(B({},e),ee(o)),l(2,n=F(e,s)),"color"in o&&l(0,t=o.color),"size"in o&&l(1,r=o.size)},[t,r,n]}class ct extends K{constructor(e){super(),Y(this,e,ut,it,G,{color:0,size:1})}}function mt(a){let e,l,s;const n=a[4].default,t=be(n,a,a[3],null);let r=[{class:l=ie("mt-auto flex flex-col gap-2 p-4",a[1])},a[2]],o={};for(let u=0;u<r.length;u+=1)o=B(o,r[u]);return{c(){e=T("div"),t&&t.c(),this.h()},l(u){e=I(u,"DIV",{class:!0});var f=L(e);t&&t.l(f),f.forEach(_),this.h()},h(){ae(e,o)},m(u,f){C(u,e,f),t&&t.m(e,null),a[5](e),s=!0},p(u,[f]){t&&t.p&&(!s||f&8)&&Ce(t,n,u,u[3],s?ke(n,u[3],f,null):Ee(u[3]),null),ae(e,o=Q(r,[(!s||f&2&&l!==(l=ie("mt-auto flex flex-col gap-2 p-4",u[1])))&&{class:l},f&4&&u[2]]))},i(u){s||(p(t,u),s=!0)},o(u){$(t,u),s=!1},d(u){u&&_(e),t&&t.d(u),a[5](null)}}}function _t(a,e,l){const s=["el","class"];let n=F(e,s),{$$slots:t={},$$scope:r}=e,{el:o=void 0}=e,{class:u=void 0}=e;function f(i){y[i?"unshift":"push"](()=>{o=i,l(0,o)})}return a.$$set=i=>{e=B(B({},e),ee(i)),l(2,n=F(e,s)),"el"in i&&l(0,o=i.el),"class"in i&&l(1,u=i.class),"$$scope"in i&&l(3,r=i.$$scope)},[o,u,n,r,t,f]}class dt extends K{constructor(e){super(),Y(this,e,_t,mt,G,{el:0,class:1})}}async function gt(a){if("clipboard"in navigator)await navigator.clipboard.writeText(a);else{const e=document.createElement("input");e.type="text",e.disabled=!0,e.style.setProperty("position","fixed"),e.style.setProperty("z-index","-100"),e.style.setProperty("pointer-events","none"),e.style.setProperty("opacity","0"),e.value=a,document.body.appendChild(e),e.click(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}const pt=(a,e)=>{async function l(){if(n)try{await gt(n),a.dispatchEvent(new CustomEvent("svelte-copy",{detail:n}))}catch(t){a.dispatchEvent(new CustomEvent("svelte-copy:error",{detail:t}))}}let s=typeof e=="string"?["click"]:[e.events].flat(1),n=typeof e=="string"?e:e.text;return s.forEach(t=>{a.addEventListener(t,l,!0)}),{update:t=>{const r=typeof t=="string"?["click"]:[t.events].flat(1),o=typeof t=="string"?t:t.text,u=r.filter(i=>!s.includes(i)),f=s.filter(i=>!r.includes(i));u.forEach(i=>{a.addEventListener(i,l,!0)}),f.forEach(i=>{a.removeEventListener(i,l,!0)}),s=r,n=o},destroy:()=>{s.forEach(t=>{a.removeEventListener(t,l,!0)})}}};function $t(a){let e,l;return e=new tt({props:{class:"h-4 w-4 rounded-full"}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p:Z,i(s){l||(p(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function ht(a){let e=a[3]("default.menu.share.cta")+"",l,s,n,t;return n=new ct({}),{c(){l=N(e),s=V(),h(n.$$.fragment)},l(r){l=R(r,e),s=M(r),v(n.$$.fragment,r)},m(r,o){C(r,l,o),C(r,s,o),w(n,r,o),t=!0},p(r,o){(!t||o[0]&8)&&e!==(e=r[3]("default.menu.share.cta")+"")&&J(l,e)},i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){$(n.$$.fragment,r),t=!1},d(r){r&&(_(l),_(s)),b(n,r)}}}function vt(a){let e=a[3]("default.menu.share.cta")+"",l;return{c(){l=N(e)},l(s){l=R(s,e)},m(s,n){C(s,l,n)},p(s,n){n[0]&8&&e!==(e=s[3]("default.menu.share.cta")+"")&&J(l,e)},d(s){s&&_(l)}}}function wt(a){let e,l,s,n;return s=new Ke({props:{class:"text-red-600"}}),{c(){e=T("div"),l=T("div"),h(s.$$.fragment),this.h()},l(t){e=I(t,"DIV",{class:!0});var r=L(e);l=I(r,"DIV",{class:!0});var o=L(l);v(s.$$.fragment,o),o.forEach(_),r.forEach(_),this.h()},h(){g(l,"class","icon fill-feelings-foreground svelte-ljnb6t"),g(e,"class","label bg-feelings-background svelte-ljnb6t")},m(t,r){C(t,e,r),D(e,l),w(s,l,null),n=!0},p:Z,i(t){n||(p(s.$$.fragment,t),n=!0)},o(t){$(s.$$.fragment,t),n=!1},d(t){t&&_(e),b(s)}}}function bt(a){let e,l,s,n,t;return l=new Ue({props:{$$slots:{default:[vt]},$$scope:{ctx:a}}}),n=new Ge({props:{$$slots:{default:[wt]},$$scope:{ctx:a}}}),{c(){e=T("div"),h(l.$$.fragment),s=V(),h(n.$$.fragment),this.h()},l(r){e=I(r,"DIV",{class:!0});var o=L(e);v(l.$$.fragment,o),s=M(o),v(n.$$.fragment,o),o.forEach(_),this.h()},h(){g(e,"class","flex items-center justify-between")},m(r,o){C(r,e,o),w(l,e,null),D(e,s),w(n,e,null),t=!0},p(r,o){const u={};o[0]&8|o[1]&8&&(u.$$scope={dirty:o,ctx:r}),l.$set(u);const f={};o[1]&8&&(f.$$scope={dirty:o,ctx:r}),n.$set(f)},i(r){t||(p(l.$$.fragment,r),p(n.$$.fragment,r),t=!0)},o(r){$(l.$$.fragment,r),$(n.$$.fragment,r),t=!1},d(r){r&&_(e),b(l),b(n)}}}function Ct(a){let e,l,s=a[3]("default.menu.share.copyLink")+"",n,t,r,o,u,f,i=a[3]("default.menu.share.mailLink")+"",k,E,z,j,P,O;return r=new nt({}),z=new ft({}),{c(){e=T("div"),l=T("button"),n=N(s),t=V(),h(r.$$.fragment),u=V(),f=T("button"),k=N(i),E=V(),h(z.$$.fragment),this.h()},l(c){e=I(c,"DIV",{class:!0});var m=L(e);l=I(m,"BUTTON",{class:!0});var H=L(l);n=R(H,s),t=M(H),v(r.$$.fragment,H),H.forEach(_),u=M(m),f=I(m,"BUTTON",{class:!0});var S=L(f);k=R(S,i),E=M(S),v(z.$$.fragment,S),S.forEach(_),m.forEach(_),this.h()},h(){g(l,"class","skeumorphic-button flex w-full items-center justify-between rounded-full px-4 py-1.5 text-sm svelte-ljnb6t"),g(f,"class","skeumorphic-button flex w-full items-center justify-between rounded-full px-4 py-1.5 text-sm svelte-ljnb6t"),g(e,"class","max-container flex flex-col gap-4")},m(c,m){C(c,e,m),D(e,l),D(l,n),D(l,t),w(r,l,null),D(e,u),D(e,f),D(f,k),D(f,E),w(z,f,null),j=!0,P||(O=[ue(o=pt.call(null,l,a[2])),se(l,"svelte-copy",a[15]),se(f,"click",a[16])],P=!0)},p(c,m){(!j||m[0]&8)&&s!==(s=c[3]("default.menu.share.copyLink")+"")&&J(n,s),o&&Me(o.update)&&m[0]&4&&o.update.call(null,c[2]),(!j||m[0]&8)&&i!==(i=c[3]("default.menu.share.mailLink")+"")&&J(k,i)},i(c){j||(p(r.$$.fragment,c),p(z.$$.fragment,c),j=!0)},o(c){$(r.$$.fragment,c),$(z.$$.fragment,c),j=!1},d(c){c&&_(e),b(r),b(z),P=!1,ce(O)}}}function Et(a){let e,l,s,n;return e=new Je({props:{class:"w-full border-b border-black/10",$$slots:{default:[bt]},$$scope:{ctx:a}}}),s=new dt({props:{class:"pb-10",$$slots:{default:[Ct]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),C(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&8|r[1]&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o);const u={};r[0]&15|r[1]&8&&(u.$$scope={dirty:r,ctx:t}),s.$set(u)},i(t){n||(p(e.$$.fragment,t),p(s.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),$(s.$$.fragment,t),n=!1},d(t){t&&_(l),b(e,t),b(s,t)}}}function kt(a){let e,l;return e=new qe({props:{class:"",$$slots:{default:[Et]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&15|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(p(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function Lt(a){let e=a[3]("default.menu.share.mailDialogText")+"",l;return{c(){l=N(e)},l(s){l=R(s,e)},m(s,n){C(s,l,n)},p(s,n){n[0]&8&&e!==(e=s[3]("default.menu.share.mailDialogText")+"")&&J(l,e)},d(s){s&&_(l)}}}function zt(a){let e;return{c(){e=N("E-Mail")},l(l){e=R(l,"E-Mail")},m(l,s){C(l,e,s)},d(l){l&&_(e)}}}function Dt(a){let e,l,s,n,t;e=new Oe({props:{class:"form-label",$$slots:{default:[zt]},$$scope:{ctx:a}}});const r=[a[33],{type:"text"},{placeholder:a[5]==="en"?"E-Mail":"E-Mail Adresse"},{class:"mb-4"}];function o(f){a[18](f)}let u={};for(let f=0;f<r.length;f+=1)u=B(u,r[f]);return a[4].email!==void 0&&(u.value=a[4].email),s=new Te({props:u}),y.push(()=>re(s,"value",o)),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(f){v(e.$$.fragment,f),l=M(f),v(s.$$.fragment,f)},m(f,i){w(e,f,i),C(f,l,i),w(s,f,i),t=!0},p(f,i){const k={};i[1]&8&&(k.$$scope={dirty:i,ctx:f}),e.$set(k);const E=i[0]&32|i[1]&4?Q(r,[i[1]&4&&He(f[33]),r[1],i[0]&32&&{placeholder:f[5]==="en"?"E-Mail":"E-Mail Adresse"},r[3]]):{};!n&&i[0]&16&&(n=!0,E.value=f[4].email,le(()=>n=!1)),s.$set(E)},i(f){t||(p(e.$$.fragment,f),p(s.$$.fragment,f),t=!0)},o(f){$(e.$$.fragment,f),$(s.$$.fragment,f),t=!1},d(f){f&&_(l),b(e,f),b(s,f)}}}function Vt(a){let e,l,s,n;return e=new Fe({props:{$$slots:{default:[Dt,({attrs:t})=>({33:t}),({attrs:t})=>[0,t?4:0]]},$$scope:{ctx:a}}}),s=new Pe({}),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),C(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&48|r[1]&12&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(p(e.$$.fragment,t),p(s.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),$(s.$$.fragment,t),n=!1},d(t){t&&_(l),b(e,t),b(s,t)}}}function Mt(a){let e=a[3]("default.menu.share.cta")+"",l,s,n,t;return n=new lt({}),{c(){l=N(e),s=V(),h(n.$$.fragment)},l(r){l=R(r,e),s=M(r),v(n.$$.fragment,r)},m(r,o){C(r,l,o),C(r,s,o),w(n,r,o),t=!0},p(r,o){(!t||o[0]&8)&&e!==(e=r[3]("default.menu.share.cta")+"")&&J(l,e)},i(r){t||(p(n.$$.fragment,r),t=!0)},o(r){$(n.$$.fragment,r),t=!1},d(r){r&&(_(l),_(s)),b(n,r)}}}function jt(a){let e,l,s,n,t,r,o,u;return l=new Ze({props:{form:a[6],name:"email",class:"w-full",$$slots:{default:[Vt]},$$scope:{ctx:a}}}),t=new ne({props:{type:"submit",class:"flex items-center gap-3",$$slots:{default:[Mt]},$$scope:{ctx:a}}}),{c(){e=T("form"),h(l.$$.fragment),s=V(),n=T("div"),h(t.$$.fragment),this.h()},l(f){e=I(f,"FORM",{class:!0});var i=L(e);v(l.$$.fragment,i),s=M(i),n=I(i,"DIV",{class:!0});var k=L(n);v(t.$$.fragment,k),k.forEach(_),i.forEach(_),this.h()},h(){g(n,"class","flex w-full justify-end"),g(e,"class","-mt-1 flex h-full flex-grow flex-col items-start")},m(f,i){C(f,e,i),w(l,e,null),D(e,s),D(e,n),w(t,n,null),r=!0,o||(u=[se(e,"submit",je(a[13])),ue(a[8].call(null,e))],o=!0)},p(f,i){const k={};i[0]&48|i[1]&8&&(k.$$scope={dirty:i,ctx:f}),l.$set(k);const E={};i[0]&8|i[1]&8&&(E.$$scope={dirty:i,ctx:f}),t.$set(E)},i(f){r||(p(l.$$.fragment,f),p(t.$$.fragment,f),r=!0)},o(f){$(l.$$.fragment,f),$(t.$$.fragment,f),r=!1},d(f){f&&_(e),b(l),b(t),o=!1,ce(u)}}}function Bt(a){let e,l,s,n;return e=new ye({props:{class:"mb-10 max-w-[9em] leading-tight",$$slots:{default:[Lt]},$$scope:{ctx:a}}}),s=new et({props:{$$slots:{default:[jt]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment),l=V(),h(s.$$.fragment)},l(t){v(e.$$.fragment,t),l=M(t),v(s.$$.fragment,t)},m(t,r){w(e,t,r),C(t,l,r),w(s,t,r),n=!0},p(t,r){const o={};r[0]&8|r[1]&8&&(o.$$scope={dirty:r,ctx:t}),e.$set(o);const u={};r[0]&56|r[1]&8&&(u.$$scope={dirty:r,ctx:t}),s.$set(u)},i(t){n||(p(e.$$.fragment,t),p(s.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),$(s.$$.fragment,t),n=!1},d(t){t&&_(l),b(e,t),b(s,t)}}}function Ht(a){let e,l;return e=new Xe({props:{$$slots:{default:[Bt]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&56|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(p(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function Tt(a){let e,l;return e=new We({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),{c(){h(e.$$.fragment)},l(s){v(e.$$.fragment,s)},m(s,n){w(e,s,n),l=!0},p(s,n){const t={};n[0]&56|n[1]&8&&(t.$$scope={dirty:n,ctx:s}),e.$set(t)},i(s){l||(p(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){b(e,s)}}}function It(a){let e,l,s,n,t,r,o,u,f,i,k,E;s=new ne({props:{decoration:"dark-op1",class:"flex items-center border-neutral-900 bg-neutral-800 px-1.5 text-sm text-zinc-200",$$slots:{default:[$t]},$$scope:{ctx:a}}}),t=new ne({props:{decoration:"dark-op1",class:"flex items-center gap-2 border-neutral-900 bg-neutral-800 text-sm text-zinc-200",$$slots:{default:[ht]},$$scope:{ctx:a}}}),t.$on("click",a[14]);function z(c){a[17](c)}let j={$$slots:{default:[kt]},$$scope:{ctx:a}};a[1]!==void 0&&(j.open=a[1]),o=new xe({props:j}),y.push(()=>re(o,"open",z));function P(c){a[19](c)}let O={preventScroll:!1,$$slots:{default:[Tt]},$$scope:{ctx:a}};return a[0]!==void 0&&(O.open=a[0]),i=new Qe({props:O}),y.push(()=>re(i,"open",P)),{c(){e=T("div"),l=T("a"),h(s.$$.fragment),n=V(),h(t.$$.fragment),r=V(),h(o.$$.fragment),f=V(),h(i.$$.fragment),this.h()},l(c){e=I(c,"DIV",{class:!0});var m=L(e);l=I(m,"A",{href:!0,class:!0});var H=L(l);v(s.$$.fragment,H),H.forEach(_),n=M(m),v(t.$$.fragment,m),m.forEach(_),r=M(c),v(o.$$.fragment,c),f=M(c),v(i.$$.fragment,c),this.h()},h(){g(l,"href","/app/dashboard"),g(l,"class","block"),g(e,"class","relative flex h-auto items-center justify-between")},m(c,m){C(c,e,m),D(e,l),w(s,l,null),D(e,n),w(t,e,null),C(c,r,m),w(o,c,m),C(c,f,m),w(i,c,m),E=!0},p(c,m){const H={};m[1]&8&&(H.$$scope={dirty:m,ctx:c}),s.$set(H);const S={};m[0]&8|m[1]&8&&(S.$$scope={dirty:m,ctx:c}),t.$set(S);const W={};m[0]&15|m[1]&8&&(W.$$scope={dirty:m,ctx:c}),!u&&m[0]&2&&(u=!0,W.open=c[1],le(()=>u=!1)),o.$set(W);const U={};m[0]&56|m[1]&8&&(U.$$scope={dirty:m,ctx:c}),!k&&m[0]&1&&(k=!0,U.open=c[0],le(()=>k=!1)),i.$set(U)},i(c){E||(p(s.$$.fragment,c),p(t.$$.fragment,c),p(o.$$.fragment,c),p(i.$$.fragment,c),E=!0)},o(c){$(s.$$.fragment,c),$(t.$$.fragment,c),$(o.$$.fragment,c),$(i.$$.fragment,c),E=!1},d(c){c&&(_(e),_(r),_(f)),b(s),b(t),b(o,c),b(i,c)}}}function St(a,e,l){let s,n,t,r,o;X(a,oe,d=>l(3,n=d)),X(a,Be,d=>l(5,r=d)),X(a,Ne,d=>l(12,o=d));let{id:u}=e,{record:f}=e,i=!1,k=[],E=!1,z=!1;const j=fe.object({email:fe.string().email({message:Le(oe)("default.page.login.form.email.validEmailError")})}),P=Ae(Ie(j)),O=async()=>{const d=await U(t,j);return d.valid?!0:(H.set(d.errors),!1)},c=Re(P,{resetForm:!1,validators:Se(j),async onSubmit({validators:d,cancel:we}){console.log("onSubmit"),we(),await O()&&me()}}),{form:m,errors:H,enhance:S,validate:W,validateForm:U}=c;X(a,m,d=>l(4,t=d));const me=()=>{try{console.log("send link record",f);const d=fetch("/api/mails/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:"sendLink",locale:r,to:t.email,owner:f.expand.owner.firstName,recipientName:f.name,link:s})});console.log("sendMailRes",d),l(0,E=!1),te.success(n("default.menu.share.mailLinkConfirmation"))}catch(d){console.log("error sending link per mail",d),te.error(n("default.menu.share.mailLinkError"))}};ze(async()=>{l(11,i=!0),console.log("record",f),console.log("responses",k)}),De(()=>{Ye.collection("responses").unsubscribe("*")});function _e(d){Ve.call(this,a,d)}const de=()=>l(1,z=!0),ge=()=>{l(1,z=!1),te.success(n("default.menu.share.copyLinkConfirmation"))},pe=()=>(l(1,z=!1),l(0,E=!0));function $e(d){z=d,l(1,z)}function he(d){a.$$.not_equal(t.email,d)&&(t.email=d,m.set(t))}function ve(d){E=d,l(0,E)}return a.$$set=d=>{"id"in d&&l(9,u=d.id),"record"in d&&l(10,f=d.record)},a.$$.update=()=>{a.$$.dirty[0]&4608&&l(2,s=`${o.url.origin}/app/fights/${u}/respond`),a.$$.dirty[0]&3072},[E,z,s,n,t,r,c,m,S,u,f,i,o,_e,de,ge,pe,$e,he,ve]}class yt extends K{constructor(e){super(),Y(this,e,St,It,G,{id:9,record:10},null,[-1,-1])}}export{yt as S};
