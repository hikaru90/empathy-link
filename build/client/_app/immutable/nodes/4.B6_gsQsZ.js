import{s as K,e as q,a as V,c as M,b as R,g as C,f as g,y as k,i as I,h as E,J as ee,k as P,t as z,d as B,j as O,l as L,K as N,L as T}from"../chunks/scheduler.gWKEXFbz.js";import{S as A,i as G,c as v,a as h,m as b,t as w,b as F,d as D,f as Q}from"../chunks/index.CG0cexN_.js";import{M as te}from"../chunks/Menu.DckRfB8c.js";import{t as U,g as W,a as X}from"../chunks/page.DM_0WmRN.js";import{F as H,z as ae,C as Y,a as Z,b as y}from"../chunks/zod.D0XA1AUd.js";import{I as x}from"../chunks/input.B2dq-T7m.js";import{f as re}from"../chunks/schema.CrPhIjpD.js";import{g as se}from"../chunks/entry.CEh8OOCl.js";import{s as ne}from"../chunks/memoize.BCGTZPkc.js";import{t as J}from"../chunks/Toaster.svelte_svelte_type_style_lang.DX1bSK0D.js";import"../chunks/Avatar.svelte_svelte_type_style_lang.DPRrV1hT.js";import{B as fe}from"../chunks/button.DdYiIxki.js";import{F as le}from"../chunks/form-button.BmqzV2Ai.js";function oe(f){let e=f[1]("default.page.register.form.email.label")+"",s;return{c(){s=z(e)},l(t){s=B(t,e)},m(t,n){I(t,s,n)},p(t,n){n&2&&e!==(e=t[1]("default.page.register.form.email.label")+"")&&O(s,e)},d(t){t&&g(s)}}}function ie(f){let e,s,t,n,a;e=new y({props:{$$slots:{default:[oe]},$$scope:{ctx:f}}});const l=[f[15],{type:"email"}];function i(r){f[7](r)}let $={};for(let r=0;r<l.length;r+=1)$=L($,l[r]);return f[2].email!==void 0&&($.value=f[2].email),t=new x({props:$}),N.push(()=>Q(t,"value",i)),{c(){v(e.$$.fragment),s=V(),v(t.$$.fragment)},l(r){h(e.$$.fragment,r),s=C(r),h(t.$$.fragment,r)},m(r,m){b(e,r,m),I(r,s,m),b(t,r,m),a=!0},p(r,m){const p={};m&65538&&(p.$$scope={dirty:m,ctx:r}),e.$set(p);const d=m&32768?W(l,[X(r[15]),l[1]]):{};!n&&m&4&&(n=!0,d.value=r[2].email,T(()=>n=!1)),t.$set(d)},i(r){a||(w(e.$$.fragment,r),w(t.$$.fragment,r),a=!0)},o(r){F(e.$$.fragment,r),F(t.$$.fragment,r),a=!1},d(r){r&&g(s),D(e,r),D(t,r)}}}function me(f){let e,s,t,n;return e=new Y({props:{$$slots:{default:[ie,({attrs:a})=>({15:a}),({attrs:a})=>a?32768:0]},$$scope:{ctx:f}}}),t=new Z({}),{c(){v(e.$$.fragment),s=V(),v(t.$$.fragment)},l(a){h(e.$$.fragment,a),s=C(a),h(t.$$.fragment,a)},m(a,l){b(e,a,l),I(a,s,l),b(t,a,l),n=!0},p(a,l){const i={};l&98310&&(i.$$scope={dirty:l,ctx:a}),e.$set(i)},i(a){n||(w(e.$$.fragment,a),w(t.$$.fragment,a),n=!0)},o(a){F(e.$$.fragment,a),F(t.$$.fragment,a),n=!1},d(a){a&&g(s),D(e,a),D(t,a)}}}function ue(f){let e=f[1]("default.page.register.form.password.label")+"",s;return{c(){s=z(e)},l(t){s=B(t,e)},m(t,n){I(t,s,n)},p(t,n){n&2&&e!==(e=t[1]("default.page.register.form.password.label")+"")&&O(s,e)},d(t){t&&g(s)}}}function $e(f){let e,s,t,n,a;e=new y({props:{$$slots:{default:[ue]},$$scope:{ctx:f}}});const l=[f[15],{type:"password"}];function i(r){f[8](r)}let $={};for(let r=0;r<l.length;r+=1)$=L($,l[r]);return f[2].password!==void 0&&($.value=f[2].password),t=new x({props:$}),N.push(()=>Q(t,"value",i)),{c(){v(e.$$.fragment),s=V(),v(t.$$.fragment)},l(r){h(e.$$.fragment,r),s=C(r),h(t.$$.fragment,r)},m(r,m){b(e,r,m),I(r,s,m),b(t,r,m),a=!0},p(r,m){const p={};m&65538&&(p.$$scope={dirty:m,ctx:r}),e.$set(p);const d=m&32768?W(l,[X(r[15]),l[1]]):{};!n&&m&4&&(n=!0,d.value=r[2].password,T(()=>n=!1)),t.$set(d)},i(r){a||(w(e.$$.fragment,r),w(t.$$.fragment,r),a=!0)},o(r){F(e.$$.fragment,r),F(t.$$.fragment,r),a=!1},d(r){r&&g(s),D(e,r),D(t,r)}}}function _e(f){let e,s,t,n;return e=new Y({props:{$$slots:{default:[$e,({attrs:a})=>({15:a}),({attrs:a})=>a?32768:0]},$$scope:{ctx:f}}}),t=new Z({}),{c(){v(e.$$.fragment),s=V(),v(t.$$.fragment)},l(a){h(e.$$.fragment,a),s=C(a),h(t.$$.fragment,a)},m(a,l){b(e,a,l),I(a,s,l),b(t,a,l),n=!0},p(a,l){const i={};l&98310&&(i.$$scope={dirty:l,ctx:a}),e.$set(i)},i(a){n||(w(e.$$.fragment,a),w(t.$$.fragment,a),n=!0)},o(a){F(e.$$.fragment,a),F(t.$$.fragment,a),n=!1},d(a){a&&g(s),D(e,a),D(t,a)}}}function pe(f){let e=f[1]("default.page.login.cta")+"",s;return{c(){s=z(e)},l(t){s=B(t,e)},m(t,n){I(t,s,n)},p(t,n){n&2&&e!==(e=t[1]("default.page.login.cta")+"")&&O(s,e)},d(t){t&&g(s)}}}function ce(f){let e=f[1]("default.page.register.cta")+"",s;return{c(){s=z(e)},l(t){s=B(t,e)},m(t,n){I(t,s,n)},p(t,n){n&2&&e!==(e=t[1]("default.page.register.cta")+"")&&O(s,e)},d(t){t&&g(s)}}}function ge(f){let e,s,t,n,a,l,i,$,r,m,p,d;return s=new H({props:{form:f[3],name:"email",$$slots:{default:[me]},$$scope:{ctx:f}}}),n=new H({props:{form:f[3],name:"password",$$slots:{default:[_e]},$$scope:{ctx:f}}}),i=new fe({props:{variant:"ghost",$$slots:{default:[pe]},$$scope:{ctx:f}}}),i.$on("click",f[9]),r=new le({props:{$$slots:{default:[ce]},$$scope:{ctx:f}}}),{c(){e=q("form"),v(s.$$.fragment),t=V(),v(n.$$.fragment),a=V(),l=q("div"),v(i.$$.fragment),$=V(),v(r.$$.fragment),this.h()},l(o){e=M(o,"FORM",{method:!0,class:!0});var u=R(e);h(s.$$.fragment,u),t=C(u),h(n.$$.fragment,u),a=C(u),l=M(u,"DIV",{class:!0});var c=R(l);h(i.$$.fragment,c),$=C(c),h(r.$$.fragment,c),c.forEach(g),u.forEach(g),this.h()},h(){k(l,"class","flex items-center justify-between"),k(e,"method","POST"),k(e,"class",f[0])},m(o,u){I(o,e,u),b(s,e,null),E(e,t),b(n,e,null),E(e,a),E(e,l),b(i,l,null),E(l,$),b(r,l,null),m=!0,p||(d=ee(f[5].call(null,e)),p=!0)},p(o,[u]){const c={};u&65542&&(c.$$scope={dirty:u,ctx:o}),s.$set(c);const S={};u&65542&&(S.$$scope={dirty:u,ctx:o}),n.$set(S);const j={};u&65538&&(j.$$scope={dirty:u,ctx:o}),i.$set(j);const _={};u&65538&&(_.$$scope={dirty:u,ctx:o}),r.$set(_),(!m||u&1)&&k(e,"class",o[0])},i(o){m||(w(s.$$.fragment,o),w(n.$$.fragment,o),w(i.$$.fragment,o),w(r.$$.fragment,o),m=!0)},o(o){F(s.$$.fragment,o),F(n.$$.fragment,o),F(i.$$.fragment,o),F(r.$$.fragment,o),m=!1},d(o){o&&g(e),D(s),D(n),D(i),D(r),p=!1,d()}}}function de(f,e,s){let t,n;P(f,U,_=>s(1,t=_));let{class:a=void 0}=e,{data:l}=e;const i=ne(l,{resetForm:!1,validators:ae(re),onResult:({result:_})=>{console.log("result",_),_.type==="failure"&&J.error(t("default.page.register.toasts.error")),_.type==="success"&&J.success(t("default.page.register.toasts.success"))}}),{form:$,errors:r,enhance:m,delayed:p,message:d,constraints:o,reset:u}=i;P(f,$,_=>s(2,n=_)),console.log("form",i);function c(_){f.$$.not_equal(n.email,_)&&(n.email=_,$.set(n))}function S(_){f.$$.not_equal(n.password,_)&&(n.password=_,$.set(n))}const j=()=>se("/auth/login");return f.$$set=_=>{"class"in _&&s(0,a=_.class),"data"in _&&s(6,l=_.data)},[a,t,n,i,$,m,l,c,S,j]}class ve extends A{constructor(e){super(),G(this,e,de,ge,K,{class:0,data:6})}}function he(f){let e,s,t,n,a,l,i,$=f[1]("default.page.register.heading")+"",r,m,p,d;return t=new te({}),p=new ve({props:{data:f[0].form,class:"w-[400px]"}}),{c(){e=q("div"),s=q("div"),v(t.$$.fragment),n=V(),a=q("div"),l=q("div"),i=q("h1"),r=z($),m=V(),v(p.$$.fragment),this.h()},l(o){e=M(o,"DIV",{class:!0});var u=R(e);s=M(u,"DIV",{class:!0});var c=R(s);h(t.$$.fragment,c),n=C(c),a=M(c,"DIV",{class:!0});var S=R(a);l=M(S,"DIV",{class:!0});var j=R(l);i=M(j,"H1",{class:!0});var _=R(i);r=B(_,$),_.forEach(g),m=C(j),h(p.$$.fragment,j),j.forEach(g),S.forEach(g),c.forEach(g),u.forEach(g),this.h()},h(){k(i,"class","font-heading font-bold text-2xl"),k(l,"class","w-full flex flex-col items-center justify-center py-32"),k(a,"class","max-container relative"),k(s,"class","flex-grow"),k(e,"class","flex h-full flex-grow flex-col justify-between")},m(o,u){I(o,e,u),E(e,s),b(t,s,null),E(s,n),E(s,a),E(a,l),E(l,i),E(i,r),E(l,m),b(p,l,null),d=!0},p(o,[u]){(!d||u&2)&&$!==($=o[1]("default.page.register.heading")+"")&&O(r,$);const c={};u&1&&(c.data=o[0].form),p.$set(c)},i(o){d||(w(t.$$.fragment,o),w(p.$$.fragment,o),d=!0)},o(o){F(t.$$.fragment,o),F(p.$$.fragment,o),d=!1},d(o){o&&g(e),D(t),D(p)}}}function be(f,e,s){let t;P(f,U,a=>s(1,t=a));let{data:n}=e;return console.log("login page"),f.$$set=a=>{"data"in a&&s(0,n=a.data)},[n,t]}class ze extends A{constructor(e){super(),G(this,e,be,he,K,{data:0})}}export{ze as component};
