import{e as K,u as W,l as J,s as Q,w as X,h as Z}from"../chunks/page.bZUY7JJF.js";import{I as y,s as A,a as B,g as N,i as k,f as v,k as x,G as ee,Y as te,e as z,c as E,b as S,p as F,E as P,n as ae,A as re,h as ne,B as ie,C as se,D as oe}from"../chunks/scheduler.BGpOBVyA.js";import{S as le,i as ue,c as L,a as H,m as D,b as _,e as Y,t as p,d as I,g as q,h as T,j as C}from"../chunks/index.wJhSdTM5.js";import{S as ce,i as de,M as fe}from"../chunks/ResizeObserver.es.Do8N8_i8.js";import{a as h,g as me,S as _e}from"../chunks/helpers.Dibp7sA5.js";import{p as pe}from"../chunks/stores.3y2l6SWm.js";import{w as G,o as ge}from"../chunks/entry.Ctrs9mTK.js";import{f as w}from"../chunks/module.B9UjFE2l.js";const ve=async({url:n,data:t})=>(await K(t.locale,n.pathname),t.user?W.set(t.user):W.set(void 0),{locale:t.locale,route:n.pathname,user:t.user}),Ie=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"})),he="phc_D4XP4mq4ixxa70aT5JuQm6kTvH7yGKHzUNYCsrBHEDW",R=G({}),we=()=>{const{subscribe:n,update:t}=G({initialized:!1}),a=(e,s)=>{y({subscribe:n}).initialized||(w.init(he,{api_host:"https://eu.i.posthog.com",autocapture:!1,capture_pageview:!1,capture_pageleave:!1,bootstrap:{distinctID:e,featureFlags:s},loaded:o=>{t(u=>({...u,initialized:!0}))}}),w.debug())};return{subscribe:n,init:a,capture:(e,s={})=>{if(y({subscribe:n}).initialized){w.capture(e,s);return}a(void 0,void 0)},reloadFeatureFlags:()=>{if(y({subscribe:n}).initialized){w.reloadFeatureFlags();return}a(void 0,void 0)},getFeatureFlag:e=>{if(y({subscribe:n}).initialized){const s=w.getFeatureFlag(e);R.update(o=>({...o,[e]:s}));return}a(void 0,void 0)}}},b=we();function be(n){let t,a,i,c,r,e;a=new fe({});const s=n[3].default,o=re(s,n,n[2],null);return{c(){t=z("div"),L(a.$$.fragment),i=B(),o&&o.c()},l(u){t=E(u,"DIV",{});var l=S(t);H(a.$$.fragment,l),i=N(l),o&&o.l(l),l.forEach(v)},m(u,l){k(u,t,l),D(a,t,null),ne(t,i),o&&o.m(t,null),e=!0},p(u,l){n=u,o&&o.p&&(!e||l&4)&&ie(o,s,n,n[2],e?oe(s,n[2],l,null):se(n[2]),null)},i(u){e||(p(a.$$.fragment,u),p(o,u),u&&P(()=>{e&&(r&&r.end(1),c=T(t,h,{duration:m,delay:m}),c.start())}),e=!0)},o(u){_(a.$$.fragment,u),_(o,u),c&&c.invalidate(),u&&(r=C(t,h,{duration:m})),e=!1},d(u){u&&v(t),I(a),o&&o.d(u),u&&r&&r.end()}}}function ye(n){let t,a,i,c,r;return a=new _e({props:{fast:!0,class:"h-6 w-16 shadow-xl dark:shadow-gray-200/30"}}),{c(){t=z("div"),L(a.$$.fragment),this.h()},l(e){t=E(e,"DIV",{class:!0});var s=S(t);H(a.$$.fragment,s),s.forEach(v),this.h()},h(){F(t,"class","flex items-center justify-center py-60")},m(e,s){k(e,t,s),D(a,t,null),r=!0},p(e,s){},i(e){r||(p(a.$$.fragment,e),e&&P(()=>{r&&(c&&c.end(1),i=T(t,h,{duration:m,delay:m}),i.start())}),r=!0)},o(e){_(a.$$.fragment,e),i&&i.invalidate(),e&&(c=C(t,h,{duration:m})),r=!1},d(e){e&&v(t),I(a),e&&c&&c.end()}}}function j(n){let t,a,i,c,r,e;const s=[ye,be],o=[];function u(l,f){return l[1]?1:0}return a=u(n),i=o[a]=s[a](n),{c(){t=z("main"),i.c(),this.h()},l(l){t=E(l,"MAIN",{id:!0,class:!0});var f=S(t);i.l(f),f.forEach(v),this.h()},h(){F(t,"id","scrollContainer"),F(t,"class","min-h-svh bg-background")},m(l,f){k(l,t,f),o[a].m(t,null),e=!0},p(l,f){n=l;let g=a;a=u(n),a===g?o[a].p(n,f):(q(),_(o[g],1,1,()=>{o[g]=null}),Y(),i=o[a],i?i.p(n,f):(i=o[a]=s[a](n),i.c()),p(i,1),i.m(t,null))},i(l){e||(p(i),l&&P(()=>{e&&(r&&r.end(1),c=T(t,h,{duration:m,delay:m}),c.start())}),e=!0)},o(l){_(i),c&&c.invalidate(),l&&(r=C(t,h,{duration:m})),e=!1},d(l){l&&v(t),o[a].d(),l&&r&&r.end()}}}function ke(n){let t=n[0].url,a,i,c,r=j(n);return i=new ce({}),{c(){r.c(),a=B(),L(i.$$.fragment)},l(e){r.l(e),a=N(e),H(i.$$.fragment,e)},m(e,s){r.m(e,s),k(e,a,s),D(i,e,s),c=!0},p(e,[s]){s&1&&A(t,t=e[0].url)?(q(),_(r,1,1,ae),Y(),r=j(e),r.c(),p(r,1),r.m(a.parentNode,a)):r.p(e,s)},i(e){c||(p(r),p(i.$$.fragment,e),c=!0)},o(e){_(r),_(i.$$.fragment,e),c=!1},d(e){e&&v(a),r.d(e),I(i,e)}}}const m=400;function $e(n,t,a){let i;x(n,J,d=>a(7,i=d));let{$$slots:c={},$$scope:r}=t,{data:e}=t,s;R.set(e.featureFlags),b.init(e.posthogId,e.featureFlags),window.ResizeObserver=de;let o=!1,u=0,l=!1;console.log("+layout.svelte - user:",e.user);const f=d=>{Q.set(d)},g=()=>{const d=me();X.set(window.innerWidth-d),Z.set(window.innerHeight)};ee(()=>{g(),a(1,o=!0),document.addEventListener("scroll",d=>{u=window.scrollY,l||(window.requestAnimationFrame(()=>{f(u),l=!1}),l=!0)}),window==null||window.addEventListener("resize",g),M();{const d=b.subscribe(({initialized:$})=>{if($){const U=pe.subscribe(V=>{s&&s!==V.url.pathname&&b.capture("$pageleave"),s=V.url.pathname,b.capture("$pageview")}),O=()=>{b.capture("$pageleave")};return window.addEventListener("beforeunload",O),()=>{U(),window.removeEventListener("beforeunload",O)}}});return()=>{d()}}});function M(){{const d=i;document.documentElement.lang=d}}return ge(d=>{if(document.startViewTransition)return new Promise($=>{document.startViewTransition(async()=>{$(),await d.complete})})}),te(()=>{document.removeEventListener("scroll",f),window==null||window.removeEventListener("resize",g)}),n.$$set=d=>{"data"in d&&a(0,e=d.data),"$$scope"in d&&a(2,r=d.$$scope)},M(),[e,o,r,c]}class Te extends le{constructor(t){super(),ue(this,t,$e,ke,A,{data:0})}}export{Te as component,Ie as universal};
