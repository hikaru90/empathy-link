import{b as O,u as A,l as R,s as q,w as H,e as B}from"../chunks/page.y5a_kKVh.js";import{s as P,a as T,g as V,i as b,f as w,k as F,I as G,S as K,e as y,c as k,b as $,p as g,G as S,n as Y,A as J,h as Q,B as U,C as X,D as Z}from"../chunks/scheduler.DdioMMNe.js";import{S as x,i as ee,c as E,a as L,m as z,b as _,f as W,t as p,d as D,g as C,h as M,j}from"../chunks/index.DwuYAy9N.js";import{S as te,i as ne,M as re}from"../chunks/ResizeObserver.es.BLX2hm1L.js";import{a as h,g as se,S as oe}from"../chunks/helpers.CreFEfAf.js";import{o as ae}from"../chunks/entry.BCP1s-CR.js";const ie=async({url:o,data:t})=>(await O(t.locale,o.pathname),t.user?A.set(t.user):A.set(void 0),console.log("layout.ts values - locals:",t),console.log("layout.ts values - user:",t.user),{locale:t.locale,route:o.pathname,user:t.user}),he=Object.freeze(Object.defineProperty({__proto__:null,load:ie},Symbol.toStringTag,{value:"Module"}));function le(o){let t,n,s,u,r,e;n=new re({});const c=o[3].default,i=J(c,o,o[2],null);return{c(){t=y("div"),E(n.$$.fragment),s=T(),i&&i.c()},l(l){t=k(l,"DIV",{});var a=$(t);L(n.$$.fragment,a),s=V(a),i&&i.l(a),a.forEach(w)},m(l,a){b(l,t,a),z(n,t,null),Q(t,s),i&&i.m(t,null),e=!0},p(l,a){o=l,i&&i.p&&(!e||a&4)&&U(i,c,o,o[2],e?Z(c,o[2],a,null):X(o[2]),null)},i(l){e||(p(n.$$.fragment,l),p(i,l),l&&S(()=>{e&&(r&&r.end(1),u=M(t,h,{duration:m,delay:m}),u.start())}),e=!0)},o(l){_(n.$$.fragment,l),_(i,l),u&&u.invalidate(),l&&(r=j(t,h,{duration:m})),e=!1},d(l){l&&w(t),D(n),i&&i.d(l),l&&r&&r.end()}}}function ue(o){let t,n,s,u,r;return n=new oe({props:{fast:!0,class:"h-6 w-16 shadow-xl dark:shadow-gray-200/30"}}),{c(){t=y("div"),E(n.$$.fragment),this.h()},l(e){t=k(e,"DIV",{class:!0});var c=$(t);L(n.$$.fragment,c),c.forEach(w),this.h()},h(){g(t,"class","flex items-center justify-center py-60")},m(e,c){b(e,t,c),z(n,t,null),r=!0},p(e,c){},i(e){r||(p(n.$$.fragment,e),e&&S(()=>{r&&(u&&u.end(1),s=M(t,h,{duration:m,delay:m}),s.start())}),r=!0)},o(e){_(n.$$.fragment,e),s&&s.invalidate(),e&&(u=j(t,h,{duration:m})),r=!1},d(e){e&&w(t),D(n),e&&u&&u.end()}}}function I(o){let t,n,s,u,r,e;const c=[ue,le],i=[];function l(a,d){return a[1]?1:0}return n=l(o),s=i[n]=c[n](o),{c(){t=y("main"),s.c(),this.h()},l(a){t=k(a,"MAIN",{id:!0,class:!0});var d=$(t);s.l(d),d.forEach(w),this.h()},h(){g(t,"id","scrollContainer"),g(t,"class","min-h-svh bg-background")},m(a,d){b(a,t,d),i[n].m(t,null),e=!0},p(a,d){o=a;let v=n;n=l(o),n===v?i[n].p(o,d):(C(),_(i[v],1,1,()=>{i[v]=null}),W(),s=i[n],s?s.p(o,d):(s=i[n]=c[n](o),s.c()),p(s,1),s.m(t,null))},i(a){e||(p(s),a&&S(()=>{e&&(r&&r.end(1),u=M(t,h,{duration:m,delay:m}),u.start())}),e=!0)},o(a){_(s),u&&u.invalidate(),a&&(r=j(t,h,{duration:m})),e=!1},d(a){a&&w(t),i[n].d(),a&&r&&r.end()}}}function ce(o){let t=o[0].url,n,s,u,r=I(o);return s=new te({}),{c(){r.c(),n=T(),E(s.$$.fragment)},l(e){r.l(e),n=V(e),L(s.$$.fragment,e)},m(e,c){r.m(e,c),b(e,n,c),z(s,e,c),u=!0},p(e,[c]){c&1&&P(t,t=e[0].url)?(C(),_(r,1,1,Y),W(),r=I(e),r.c(),p(r,1),r.m(n.parentNode,n)):r.p(e,c)},i(e){u||(p(r),p(s.$$.fragment,e),u=!0)},o(e){_(r),_(s.$$.fragment,e),u=!1},d(e){e&&w(n),r.d(e),D(s,e)}}}const m=400;function fe(o,t,n){let s;F(o,R,f=>n(6,s=f));let{$$slots:u={},$$scope:r}=t;window.ResizeObserver=ne;let{data:e}=t,c=!1,i=0,l=!1;console.log("+layout.svelte - user:",e.user);const a=f=>{q.set(f)},d=()=>{const f=se();H.set(window.innerWidth-f),B.set(window.innerHeight)};G(()=>{d(),n(1,c=!0),document.addEventListener("scroll",f=>{i=window.scrollY,l||(window.requestAnimationFrame(()=>{a(i),l=!1}),l=!0)}),window==null||window.addEventListener("resize",d),v()});function v(){{const f=s;document.documentElement.lang=f}}return ae(f=>{if(document.startViewTransition)return new Promise(N=>{document.startViewTransition(async()=>{N(),await f.complete})})}),K(()=>{document.removeEventListener("scroll",a),window==null||window.removeEventListener("resize",d)}),o.$$set=f=>{"data"in f&&n(0,e=f.data),"$$scope"in f&&n(2,r=f.$$scope)},v(),[e,c,r,u]}class be extends x{constructor(t){super(),ee(this,t,fe,ce,P,{data:0})}}export{be as component,he as universal};
