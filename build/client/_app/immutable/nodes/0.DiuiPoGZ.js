import{p as J,u as j,l as K,v as w,s as Q,q as X,w as Z,r as x,S as ee}from"../chunks/helpers.g8wrkI0H.js";import{A as y,s as A,a as C,g as N,i as k,f as v,k as te,w as ae,x as re,e as z,c as S,b as E,p as F,O as P,n as ne,G as ie,h as se,H as oe,I as le,J as ue}from"../chunks/scheduler.BmBrB_dT.js";import{S as ce,i as de,b as H,d as L,m as I,t as _,c as B,a as p,e as T,g as G,h as D,j as O}from"../chunks/index.BQZQ5DB3.js";import{S as fe,i as me,M as _e}from"../chunks/ResizeObserver.es.BIXIlU-f.js";import{p as pe}from"../chunks/stores.BdCL2gQQ.js";import{w as R,o as ge}from"../chunks/entry.DnNy0IhO.js";import{f as b}from"../chunks/module.B9UjFE2l.js";const ve=async({url:n,data:t})=>(await J(t.locale,n.pathname),t.user?j.set(t.user):j.set(void 0),{locale:t.locale,route:n.pathname,user:t.user}),Ie=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"})),we="phc_D4XP4mq4ixxa70aT5JuQm6kTvH7yGKHzUNYCsrBHEDW",U=R({}),be=()=>{const{subscribe:n,update:t}=R({initialized:!1}),a=(e,s)=>{y({subscribe:n}).initialized||(b.init(we,{api_host:"https://eu.i.posthog.com",autocapture:!1,capture_pageview:!1,capture_pageleave:!1,bootstrap:{distinctID:e,featureFlags:s},loaded:o=>{t(u=>({...u,initialized:!0}))}}),b.debug())};return{subscribe:n,init:a,capture:(e,s={})=>{if(y({subscribe:n}).initialized){b.capture(e,s);return}a(void 0,void 0)},reloadFeatureFlags:()=>{if(y({subscribe:n}).initialized){b.reloadFeatureFlags();return}a(void 0,void 0)},getFeatureFlag:e=>{if(y({subscribe:n}).initialized){const s=b.getFeatureFlag(e);U.update(o=>({...o,[e]:s}));return}a(void 0,void 0)}}},h=be();function he(n){let t,a,i,c,r,e;a=new _e({});const s=n[3].default,o=ie(s,n,n[2],null);return{c(){t=z("div"),H(a.$$.fragment),i=C(),o&&o.c()},l(u){t=S(u,"DIV",{});var l=E(t);L(a.$$.fragment,l),i=N(l),o&&o.l(l),l.forEach(v)},m(u,l){k(u,t,l),I(a,t,null),se(t,i),o&&o.m(t,null),e=!0},p(u,l){n=u,o&&o.p&&(!e||l&4)&&oe(o,s,n,n[2],e?ue(s,n[2],l,null):le(n[2]),null)},i(u){e||(p(a.$$.fragment,u),p(o,u),u&&P(()=>{e&&(r&&r.end(1),c=D(t,w,{duration:m,delay:m}),c.start())}),e=!0)},o(u){_(a.$$.fragment,u),_(o,u),c&&c.invalidate(),u&&(r=O(t,w,{duration:m})),e=!1},d(u){u&&v(t),T(a),o&&o.d(u),u&&r&&r.end()}}}function ye(n){let t,a,i,c,r;return a=new ee({props:{fast:!0,class:"h-6 w-16 shadow-xl dark:shadow-gray-200/30"}}),{c(){t=z("div"),H(a.$$.fragment),this.h()},l(e){t=S(e,"DIV",{class:!0});var s=E(t);L(a.$$.fragment,s),s.forEach(v),this.h()},h(){F(t,"class","flex items-center justify-center py-60")},m(e,s){k(e,t,s),I(a,t,null),r=!0},p(e,s){},i(e){r||(p(a.$$.fragment,e),e&&P(()=>{r&&(c&&c.end(1),i=D(t,w,{duration:m,delay:m}),i.start())}),r=!0)},o(e){_(a.$$.fragment,e),i&&i.invalidate(),e&&(c=O(t,w,{duration:m})),r=!1},d(e){e&&v(t),T(a),e&&c&&c.end()}}}function q(n){let t,a,i,c,r,e;const s=[ye,he],o=[];function u(l,f){return l[1]?1:0}return a=u(n),i=o[a]=s[a](n),{c(){t=z("main"),i.c(),this.h()},l(l){t=S(l,"MAIN",{id:!0,class:!0});var f=E(t);i.l(f),f.forEach(v),this.h()},h(){F(t,"id","scrollContainer"),F(t,"class","min-h-svh bg-background")},m(l,f){k(l,t,f),o[a].m(t,null),e=!0},p(l,f){n=l;let g=a;a=u(n),a===g?o[a].p(n,f):(G(),_(o[g],1,1,()=>{o[g]=null}),B(),i=o[a],i?i.p(n,f):(i=o[a]=s[a](n),i.c()),p(i,1),i.m(t,null))},i(l){e||(p(i),l&&P(()=>{e&&(r&&r.end(1),c=D(t,w,{duration:m,delay:m}),c.start())}),e=!0)},o(l){_(i),c&&c.invalidate(),l&&(r=O(t,w,{duration:m})),e=!1},d(l){l&&v(t),o[a].d(),l&&r&&r.end()}}}function ke(n){let t=n[0].url,a,i,c,r=q(n);return i=new fe({}),{c(){r.c(),a=C(),H(i.$$.fragment)},l(e){r.l(e),a=N(e),L(i.$$.fragment,e)},m(e,s){r.m(e,s),k(e,a,s),I(i,e,s),c=!0},p(e,[s]){s&1&&A(t,t=e[0].url)?(G(),_(r,1,1,ne),B(),r=q(e),r.c(),p(r,1),r.m(a.parentNode,a)):r.p(e,s)},i(e){c||(p(r),p(i.$$.fragment,e),c=!0)},o(e){_(r),_(i.$$.fragment,e),c=!1},d(e){e&&v(a),r.d(e),T(i,e)}}}const m=400;function $e(n,t,a){let i;te(n,K,d=>a(7,i=d));let{$$slots:c={},$$scope:r}=t,{data:e}=t,s;U.set(e.featureFlags),h.init(e.posthogId,e.featureFlags),window.ResizeObserver=me;let o=!1,u=0,l=!1;console.log("+layout.svelte - user:",e.user);const f=d=>{Q.set(d)},g=()=>{const d=X();Z.set(window.innerWidth-d),x.set(window.innerHeight)};ae(()=>{g(),a(1,o=!0),document.addEventListener("scroll",d=>{u=window.scrollY,l||(window.requestAnimationFrame(()=>{f(u),l=!1}),l=!0)}),window==null||window.addEventListener("resize",g),M();{const d=h.subscribe(({initialized:$})=>{if($){const Y=pe.subscribe(W=>{s&&s!==W.url.pathname&&h.capture("$pageleave"),s=W.url.pathname,h.capture("$pageview")}),V=()=>{h.capture("$pageleave")};return window.addEventListener("beforeunload",V),()=>{Y(),window.removeEventListener("beforeunload",V)}}});return()=>{d()}}});function M(){{const d=i;document.documentElement.lang=d}}return ge(d=>{if(document.startViewTransition)return new Promise($=>{document.startViewTransition(async()=>{$(),await d.complete})})}),re(()=>{document.removeEventListener("scroll",f),window==null||window.removeEventListener("resize",g)}),n.$$set=d=>{"data"in d&&a(0,e=d.data),"$$scope"in d&&a(2,r=d.$$scope)},M(),[e,o,r,c]}class Te extends ce{constructor(t){super(),de(this,t,$e,ke,A,{data:0})}}export{Te as component,Ie as universal};
