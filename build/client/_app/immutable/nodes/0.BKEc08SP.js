import{e as K,u as W,l as J,s as Q,w as X,h as Z}from"../chunks/page.Bd4QL5cq.js";import{F as y,s as A,a as B,g as N,i as k,f as v,k as x,I as ee,Y as te,e as z,c as S,b as E,p as F,G as P,n as ae,A as re,h as ne,B as se,C as oe,D as ie}from"../chunks/scheduler.Clviz5E8.js";import{S as le,i as ue,c as L,a as H,m as D,b as _,f as Y,t as p,d as I,g as q,h as T,j as C}from"../chunks/index.C2t9fK9o.js";import{S as ce,i as de,M as fe}from"../chunks/ResizeObserver.es.V3FZBZeS.js";import{a as h,g as me,S as _e}from"../chunks/helpers.F_hB7tz5.js";import{p as pe}from"../chunks/stores.Qg9DDuR0.js";import{w as G,o as ge}from"../chunks/entry.DyrkCWPu.js";import{f as w}from"../chunks/module.B9UjFE2l.js";const ve=async({url:n,data:t})=>(await K(t.locale,n.pathname),t.user?W.set(t.user):W.set(void 0),console.log("layout.ts values - locals:",t),console.log("layout.ts values - user:",t.user),{locale:t.locale,route:n.pathname,user:t.user}),Ie=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"})),he="phc_D4XP4mq4ixxa70aT5JuQm6kTvH7yGKHzUNYCsrBHEDW",R=G({}),we=()=>{const{subscribe:n,update:t}=G({initialized:!1}),a=(e,o)=>{y({subscribe:n}).initialized||(w.init(he,{api_host:"https://eu.i.posthog.com",autocapture:!1,capture_pageview:!1,capture_pageleave:!1,bootstrap:{distinctID:e,featureFlags:o},loaded:i=>{t(u=>({...u,initialized:!0}))}}),w.debug())};return{subscribe:n,init:a,capture:(e,o={})=>{if(y({subscribe:n}).initialized){w.capture(e,o);return}a(void 0,void 0)},reloadFeatureFlags:()=>{if(y({subscribe:n}).initialized){w.reloadFeatureFlags();return}a(void 0,void 0)},getFeatureFlag:e=>{if(y({subscribe:n}).initialized){const o=w.getFeatureFlag(e);R.update(i=>({...i,[e]:o}));return}a(void 0,void 0)}}},b=we();function be(n){let t,a,s,c,r,e;a=new fe({});const o=n[3].default,i=re(o,n,n[2],null);return{c(){t=z("div"),L(a.$$.fragment),s=B(),i&&i.c()},l(u){t=S(u,"DIV",{});var l=E(t);H(a.$$.fragment,l),s=N(l),i&&i.l(l),l.forEach(v)},m(u,l){k(u,t,l),D(a,t,null),ne(t,s),i&&i.m(t,null),e=!0},p(u,l){n=u,i&&i.p&&(!e||l&4)&&se(i,o,n,n[2],e?ie(o,n[2],l,null):oe(n[2]),null)},i(u){e||(p(a.$$.fragment,u),p(i,u),u&&P(()=>{e&&(r&&r.end(1),c=T(t,h,{duration:m,delay:m}),c.start())}),e=!0)},o(u){_(a.$$.fragment,u),_(i,u),c&&c.invalidate(),u&&(r=C(t,h,{duration:m})),e=!1},d(u){u&&v(t),I(a),i&&i.d(u),u&&r&&r.end()}}}function ye(n){let t,a,s,c,r;return a=new _e({props:{fast:!0,class:"h-6 w-16 shadow-xl dark:shadow-gray-200/30"}}),{c(){t=z("div"),L(a.$$.fragment),this.h()},l(e){t=S(e,"DIV",{class:!0});var o=E(t);H(a.$$.fragment,o),o.forEach(v),this.h()},h(){F(t,"class","flex items-center justify-center py-60")},m(e,o){k(e,t,o),D(a,t,null),r=!0},p(e,o){},i(e){r||(p(a.$$.fragment,e),e&&P(()=>{r&&(c&&c.end(1),s=T(t,h,{duration:m,delay:m}),s.start())}),r=!0)},o(e){_(a.$$.fragment,e),s&&s.invalidate(),e&&(c=C(t,h,{duration:m})),r=!1},d(e){e&&v(t),I(a),e&&c&&c.end()}}}function j(n){let t,a,s,c,r,e;const o=[ye,be],i=[];function u(l,f){return l[1]?1:0}return a=u(n),s=i[a]=o[a](n),{c(){t=z("main"),s.c(),this.h()},l(l){t=S(l,"MAIN",{id:!0,class:!0});var f=E(t);s.l(f),f.forEach(v),this.h()},h(){F(t,"id","scrollContainer"),F(t,"class","min-h-svh bg-background")},m(l,f){k(l,t,f),i[a].m(t,null),e=!0},p(l,f){n=l;let g=a;a=u(n),a===g?i[a].p(n,f):(q(),_(i[g],1,1,()=>{i[g]=null}),Y(),s=i[a],s?s.p(n,f):(s=i[a]=o[a](n),s.c()),p(s,1),s.m(t,null))},i(l){e||(p(s),l&&P(()=>{e&&(r&&r.end(1),c=T(t,h,{duration:m,delay:m}),c.start())}),e=!0)},o(l){_(s),c&&c.invalidate(),l&&(r=C(t,h,{duration:m})),e=!1},d(l){l&&v(t),i[a].d(),l&&r&&r.end()}}}function ke(n){let t=n[0].url,a,s,c,r=j(n);return s=new ce({}),{c(){r.c(),a=B(),L(s.$$.fragment)},l(e){r.l(e),a=N(e),H(s.$$.fragment,e)},m(e,o){r.m(e,o),k(e,a,o),D(s,e,o),c=!0},p(e,[o]){o&1&&A(t,t=e[0].url)?(q(),_(r,1,1,ae),Y(),r=j(e),r.c(),p(r,1),r.m(a.parentNode,a)):r.p(e,o)},i(e){c||(p(r),p(s.$$.fragment,e),c=!0)},o(e){_(r),_(s.$$.fragment,e),c=!1},d(e){e&&v(a),r.d(e),I(s,e)}}}const m=400;function $e(n,t,a){let s;x(n,J,d=>a(7,s=d));let{$$slots:c={},$$scope:r}=t,{data:e}=t,o;R.set(e.featureFlags),b.init(e.posthogId,e.featureFlags),window.ResizeObserver=de;let i=!1,u=0,l=!1;console.log("+layout.svelte - user:",e.user);const f=d=>{Q.set(d)},g=()=>{const d=me();X.set(window.innerWidth-d),Z.set(window.innerHeight)};ee(()=>{g(),a(1,i=!0),document.addEventListener("scroll",d=>{u=window.scrollY,l||(window.requestAnimationFrame(()=>{f(u),l=!1}),l=!0)}),window==null||window.addEventListener("resize",g),M();{const d=b.subscribe(({initialized:$})=>{if($){const U=pe.subscribe(V=>{o&&o!==V.url.pathname&&b.capture("$pageleave"),o=V.url.pathname,b.capture("$pageview")}),O=()=>{b.capture("$pageleave")};return window.addEventListener("beforeunload",O),()=>{U(),window.removeEventListener("beforeunload",O)}}});return()=>{d()}}});function M(){{const d=s;document.documentElement.lang=d}}return ge(d=>{if(document.startViewTransition)return new Promise($=>{document.startViewTransition(async()=>{$(),await d.complete})})}),te(()=>{document.removeEventListener("scroll",f),window==null||window.removeEventListener("resize",g)}),n.$$set=d=>{"data"in d&&a(0,e=d.data),"$$scope"in d&&a(2,r=d.$$scope)},M(),[e,i,r,c]}class Te extends le{constructor(t){super(),ue(this,t,$e,ke,A,{data:0})}}export{Te as component,Ie as universal};
