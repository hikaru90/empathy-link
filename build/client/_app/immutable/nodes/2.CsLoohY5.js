import{t as T,e as ce,u as J,f as me,s as de,w as _e,h as pe}from"../chunks/page.BxjNqAN0.js";import{s as P,e as y,a as j,c as I,b as S,g as M,f as g,V as K,p as b,i as L,h as $,M as he,k as Q,I as H,t as x,d as F,j as G,W as ve,X as be,H as ge,G as we,Y as $e,O as U,n as ke,A as ye,B as Ie,C as Ee,D as De,E as ne}from"../chunks/scheduler.BGpOBVyA.js";import{S as ie,i as oe,t as E,g as R,b as D,e as q,c as C,a as W,m as A,d as B,h as fe,j as ue}from"../chunks/index.wJhSdTM5.js";import{S as Ve,i as je,M as Se}from"../chunks/ResizeObserver.es.Ct-hmR27.js";import{e as Z,g as Me,a as O,S as Le}from"../chunks/helpers.C2F2lmQ3.js";import{I as Te}from"../chunks/icon-folder.CBGieXVr.js";import{I as ze,a as He,b as Ce,c as We}from"../chunks/icon-learn.DB5MBh20.js";import{p as Ae}from"../chunks/stores.C46p-EcX.js";import{g as Be,o as Ne}from"../chunks/entry.B5Mv6Uxa.js";import{a as Oe}from"../chunks/button.A7J3RAYz.js";function ee(n,e,t){const l=n.slice();return l[5]=e[t],l}function te(n){let e,t,l;return t=new Oe({props:{decoration:"dark-op1",class:"border-neutral-700",$$slots:{default:[Pe]},$$scope:{ctx:n}}}),t.$on("click",n[4]),{c(){e=y("div"),C(t.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var r=S(e);W(t.$$.fragment,r),r.forEach(g),this.h()},h(){b(e,"class","w-full h-full bg-black/60 absolute top-0 left-0 z-10 flex items-center justify-center")},m(s,r){L(s,e,r),A(t,e,null),l=!0},p(s,r){const a={};r&260&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){l||(E(t.$$.fragment,s),l=!0)},o(s){D(t.$$.fragment,s),l=!1},d(s){s&&g(e),B(t)}}}function Pe(n){let e=n[2]("default.page.register.text")+"",t;return{c(){t=x(e)},l(l){t=F(l,e)},m(l,s){L(l,t,s)},p(l,s){s&4&&e!==(e=l[2]("default.page.register.text")+"")&&G(t,e)},d(l){l&&g(t)}}}function le(n){let e,t='<div class="h-1 w-1 rounded-full bg-neon"></div>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(l){e=I(l,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-fxfcox"&&(e.innerHTML=t),this.h()},h(){b(e,"class","absolute -bottom-2 flex justify-center")},m(l,s){L(l,e,s)},d(l){l&&g(e)}}}function ae(n){let e,t=n[2]("default.menu.soon")+"",l;return{c(){e=y("div"),l=x(t),this.h()},l(s){e=I(s,"DIV",{class:!0});var r=S(e);l=F(r,t),r.forEach(g),this.h()},h(){b(e,"class","absolute bottom-2.5 left-1/3 translate-x-1/2 transform rounded-full bg-red-600 px-1 text-[6px]")},m(s,r){L(s,e,r),$(e,l)},p(s,r){r&4&&t!==(t=s[2]("default.menu.soon")+"")&&G(l,t)},d(s){s&&g(e)}}}function se(n){let e,t,l,s,r=n[5].icon+"",a,f,i=n[5].name+"",o,d,u,w,p=n[3].data.route.includes(n[5].path),V,v,_,m=p&&le(),c=!n[5].available&&ae(n);return{c(){e=y("div"),t=y("a"),l=y("div"),s=new ve(!1),a=j(),f=y("span"),o=x(i),w=j(),m&&m.c(),V=j(),c&&c.c(),v=j(),this.h()},l(h){e=I(h,"DIV",{class:!0});var k=S(e);t=I(k,"A",{href:!0,class:!0});var N=S(t);l=I(N,"DIV",{class:!0});var X=S(l);s=be(X,!1),X.forEach(g),a=M(N),f=I(N,"SPAN",{class:!0});var Y=S(f);o=F(Y,i),Y.forEach(g),N.forEach(g),w=M(k),m&&m.l(k),V=M(k),c&&c.l(k),v=M(k),k.forEach(g),this.h()},h(){s.a=null,b(l,"class","h-6 w-6 fill-white"),b(f,"class","text-2xs lg:mt-2 lg:text-xs"),b(t,"href",d=n[5].path),b(t,"class",u="flex flex-col items-center justify-center "+(n[5].available?"":"pointer-events-none")),b(e,"class",_="relative flex flex-col items-center justify-center "+(n[5].available?"":"opacity-40")+" last:mr-2")},m(h,k){L(h,e,k),$(e,t),$(t,l),s.m(r,l),$(t,a),$(t,f),$(f,o),$(e,w),m&&m.m(e,null),$(e,V),c&&c.m(e,null),$(e,v)},p(h,k){k&2&&r!==(r=h[5].icon+"")&&s.p(r),k&2&&i!==(i=h[5].name+"")&&G(o,i),k&2&&d!==(d=h[5].path)&&b(t,"href",d),k&2&&u!==(u="flex flex-col items-center justify-center "+(h[5].available?"":"pointer-events-none"))&&b(t,"class",u),k&10&&(p=h[3].data.route.includes(h[5].path)),p?m||(m=le(),m.c(),m.m(e,V)):m&&(m.d(1),m=null),h[5].available?c&&(c.d(1),c=null):c?c.p(h,k):(c=ae(h),c.c(),c.m(e,v)),k&2&&_!==(_="relative flex flex-col items-center justify-center "+(h[5].available?"":"opacity-40")+" last:mr-2")&&b(e,"class",_)},d(h){h&&g(e),m&&m.d(),c&&c.d()}}}function xe(n){let e,t,l,s,r,a,f,i,o,d,u,w,p=!n[0]&&te(n),V=Z(n[1]),v=[];for(let _=0;_<V.length;_+=1)v[_]=se(ee(n,V,_));return{c(){e=y("div"),p&&p.c(),t=j(),l=y("img"),r=j(),a=y("img"),i=j(),o=y("div"),d=j(),u=y("div");for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=I(_,"DIV",{class:!0});var m=S(e);p&&p.l(m),t=M(m),l=I(m,"IMG",{src:!0,alt:!0,class:!0}),r=M(m),a=I(m,"IMG",{src:!0,alt:!0,class:!0}),i=M(m),o=I(m,"DIV",{class:!0}),S(o).forEach(g),d=M(m),u=I(m,"DIV",{class:!0});var c=S(u);for(let h=0;h<v.length;h+=1)v[h].l(c);c.forEach(g),m.forEach(g),this.h()},h(){K(l.src,s="/inverted-border.svg")||b(l,"src",s),b(l,"alt",""),b(l,"class","absolute left-0 top-0 w-5 -translate-y-full transform"),K(a.src,f="/inverted-border.svg")||b(a,"src",f),b(a,"alt",""),b(a,"class","absolute right-0 top-0 w-5 -translate-y-full -rotate-90 transform"),b(o,"class","absolute left-0 top-0 h-[0.5px] w-full -translate-y-full transform bg-black"),b(u,"class","flex items-center justify-around"),b(e,"class","fixed bottom-0 left-0 z-[1002] w-full bg-black px-4 pb-4 pt-2 text-gray-200")},m(_,m){L(_,e,m),p&&p.m(e,null),$(e,t),$(e,l),$(e,r),$(e,a),$(e,i),$(e,o),$(e,d),$(e,u);for(let c=0;c<v.length;c+=1)v[c]&&v[c].m(u,null);w=!0},p(_,[m]){if(_[0]?p&&(R(),D(p,1,1,()=>{p=null}),q()):p?(p.p(_,m),m&1&&E(p,1)):(p=te(_),p.c(),E(p,1),p.m(e,t)),m&14){V=Z(_[1]);let c;for(c=0;c<V.length;c+=1){const h=ee(_,V,c);v[c]?v[c].p(h,m):(v[c]=se(h),v[c].c(),v[c].m(u,null))}for(;c<v.length;c+=1)v[c].d(1);v.length=V.length}},i(_){w||(E(p),w=!0)},o(_){D(p),w=!1},d(_){_&&g(e),p&&p.d(),he(v,_)}}}function Fe(n,e,t){let l,s;Q(n,T,i=>t(2,l=i)),Q(n,Ae,i=>t(3,s=i));let{user:r}=e,a=[{slug:"home",name:H(T)("default.menu.bar.home"),path:"/app/dashboard",icon:Te,available:!0},{slug:"selfempathy",name:H(T)("default.menu.bar.selfempathy"),path:"/app/selfempathy",icon:ze,available:!1},{slug:"fights",name:H(T)("default.menu.bar.fights"),path:"/app/fights",icon:He,available:!0},{slug:"feedback",name:H(T)("default.menu.bar.feedback"),path:"/app/feedback",icon:Ce,available:!1},{slug:"learn",name:H(T)("default.menu.bar.learn"),path:"/app/learn",icon:We,available:!1}];T.subscribe(i=>{const o=a.map(d=>{const u=i(`default.menu.bar.${d.slug}`);return d.name=u,d});t(1,a=[...o])});const f=()=>Be("/app/auth/register");return n.$$set=i=>{"user"in i&&t(0,r=i.user)},[r,a,l,s,f]}class Ge extends ie{constructor(e){super(),oe(this,e,Fe,xe,P,{user:0})}}const Re=async({url:n,data:e})=>(await ce(e.locale,n.pathname),e.user?J.set(e.user):J.set(void 0),{locale:e.locale,route:n.pathname,user:e.user}),nt=Object.freeze(Object.defineProperty({__proto__:null,load:Re},Symbol.toStringTag,{value:"Module"}));function qe(n){let e,t,l,s,r,a,f,i;t=new Se({});const o=n[3].default,d=ye(o,n,n[2],null);return f=new Ge({props:{user:n[0].user}}),{c(){e=y("div"),C(t.$$.fragment),l=j(),d&&d.c(),a=j(),C(f.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var w=S(e);W(t.$$.fragment,w),l=M(w),d&&d.l(w),w.forEach(g),a=M(u),W(f.$$.fragment,u),this.h()},h(){b(e,"class","app/layout bg-background min-h-svh")},m(u,w){L(u,e,w),A(t,e,null),$(e,l),d&&d.m(e,null),L(u,a,w),A(f,u,w),i=!0},p(u,w){n=u,d&&d.p&&(!i||w&4)&&Ie(d,o,n,n[2],i?De(o,n[2],w,null):Ee(n[2]),null);const p={};w&1&&(p.user=n[0].user),f.$set(p)},i(u){i||(E(t.$$.fragment,u),E(d,u),u&&ne(()=>{i&&(r&&r.end(1),s=fe(e,O,{duration:z,delay:z}),s.start())}),E(f.$$.fragment,u),i=!0)},o(u){D(t.$$.fragment,u),D(d,u),s&&s.invalidate(),u&&(r=ue(e,O,{duration:z})),D(f.$$.fragment,u),i=!1},d(u){u&&(g(e),g(a)),B(t),d&&d.d(u),u&&r&&r.end(),B(f,u)}}}function Xe(n){let e,t,l,s,r;return t=new Le({props:{fast:!0,class:"h-6 w-16 shadow-xl dark:shadow-gray-200/30"}}),{c(){e=y("div"),C(t.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=S(e);W(t.$$.fragment,f),f.forEach(g),this.h()},h(){b(e,"class","flex items-center justify-center h-svh")},m(a,f){L(a,e,f),A(t,e,null),r=!0},p(a,f){},i(a){r||(E(t.$$.fragment,a),a&&ne(()=>{r&&(s&&s.end(1),l=fe(e,O,{duration:z,delay:z}),l.start())}),r=!0)},o(a){D(t.$$.fragment,a),l&&l.invalidate(),a&&(s=ue(e,O,{duration:z})),r=!1},d(a){a&&g(e),B(t),a&&s&&s.end()}}}function re(n){let e,t,l,s;const r=[Xe,qe],a=[];function f(i,o){return i[1]?1:0}return e=f(n),t=a[e]=r[e](n),{c(){t.c(),l=U()},l(i){t.l(i),l=U()},m(i,o){a[e].m(i,o),L(i,l,o),s=!0},p(i,o){let d=e;e=f(i),e===d?a[e].p(i,o):(R(),D(a[d],1,1,()=>{a[d]=null}),q(),t=a[e],t?t.p(i,o):(t=a[e]=r[e](i),t.c()),E(t,1),t.m(l.parentNode,l))},i(i){s||(E(t),s=!0)},o(i){D(t),s=!1},d(i){i&&g(l),a[e].d(i)}}}function Ye(n){let e=n[0].url,t,l,s,r=re(n);return l=new Ve({}),{c(){r.c(),t=j(),C(l.$$.fragment)},l(a){r.l(a),t=M(a),W(l.$$.fragment,a)},m(a,f){r.m(a,f),L(a,t,f),A(l,a,f),s=!0},p(a,[f]){f&1&&P(e,e=a[0].url)?(R(),D(r,1,1,ke),q(),r=re(a),r.c(),E(r,1),r.m(t.parentNode,t)):r.p(a,f)},i(a){s||(E(r),E(l.$$.fragment,a),s=!0)},o(a){D(r),D(l.$$.fragment,a),s=!1},d(a){a&&g(t),r.d(a),B(l,a)}}}const z=400;function Je(n,e,t){let{$$slots:l={},$$scope:s}=e;window.ResizeObserver=je;let{data:r}=e,a=!1;console.log("+layout.svelte - user:",r.user);const f=o=>{de.set(o.target.scrollTop)},i=()=>{const o=Me();_e.set(window.innerWidth-o),pe.set(window.innerHeight)};return we(()=>{var o;i(),t(1,a=!0),(o=document.getElementById("scrollContainer"))==null||o.addEventListener("scroll",f),window==null||window.addEventListener("resize",i),me.set("bg-black")}),Ne(o=>{if(document.startViewTransition)return new Promise(d=>{document.startViewTransition(async()=>{d(),await o.complete})})}),$e(()=>{var o;(o=document.getElementById("scrollContainer"))==null||o.removeEventListener("scroll",f),window==null||window.removeEventListener("resize",i)}),n.$$set=o=>{"data"in o&&t(0,r=o.data),"$$scope"in o&&t(2,s=o.$$scope)},[r,a,s,l]}class it extends ie{constructor(e){super(),oe(this,e,Je,Ye,P,{data:0})}}export{it as component,nt as universal};
