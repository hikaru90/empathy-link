import{e as K,t as L,p as ce,u as Q,b as me,s as de,q as _e,w as pe,r as he,v as N,S as ve}from"../chunks/helpers.g8wrkI0H.js";import{s as O,e as y,a as D,c as I,b as S,g as M,f as g,Z as U,p as b,i as z,h as $,z as be,k as X,A as H,t as P,d as q,j as F,V as ge,W as we,y as $e,w as ke,x as ye,v as Y,n as Ie,G as Ee,H as Ve,I as je,J as De,O as ne}from"../chunks/scheduler.BmBrB_dT.js";import{S as ie,i as oe,a as E,g as G,t as V,c as R,b as C,d as W,m as x,e as A,h as ue,j as fe}from"../chunks/index.BQZQ5DB3.js";import{S as Se,i as Me,M as ze}from"../chunks/ResizeObserver.es.BIXIlU-f.js";import{I as Le}from"../chunks/icon-folder.CBGieXVr.js";import{I as Te,a as He,b as Ce,c as We}from"../chunks/icon-learn.DB5MBh20.js";import{p as xe}from"../chunks/stores.BdCL2gQQ.js";import{g as Ae,o as Be}from"../chunks/entry.DnNy0IhO.js";import{B as Ne}from"../chunks/button.D_ITeu-i.js";function ee(n,e,t){const l=n.slice();return l[5]=e[t],l}function te(n){let e,t,l;return t=new Ne({props:{decoration:"dark-op1",class:"border-neutral-700",$$slots:{default:[Oe]},$$scope:{ctx:n}}}),t.$on("click",n[4]),{c(){e=y("div"),C(t.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var r=S(e);W(t.$$.fragment,r),r.forEach(g),this.h()},h(){b(e,"class","w-full h-full bg-black/60 absolute top-0 left-0 z-10 flex items-center justify-center")},m(s,r){z(s,e,r),x(t,e,null),l=!0},p(s,r){const a={};r&260&&(a.$$scope={dirty:r,ctx:s}),t.$set(a)},i(s){l||(E(t.$$.fragment,s),l=!0)},o(s){V(t.$$.fragment,s),l=!1},d(s){s&&g(e),A(t)}}}function Oe(n){let e=n[2]("default.page.register.text")+"",t;return{c(){t=P(e)},l(l){t=q(l,e)},m(l,s){z(l,t,s)},p(l,s){s&4&&e!==(e=l[2]("default.page.register.text")+"")&&F(t,e)},d(l){l&&g(t)}}}function le(n){let e,t='<div class="h-1 w-1 rounded-full bg-neon"></div>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(l){e=I(l,"DIV",{class:!0,"data-svelte-h":!0}),$e(e)!=="svelte-fxfcox"&&(e.innerHTML=t),this.h()},h(){b(e,"class","absolute -bottom-2 flex justify-center")},m(l,s){z(l,e,s)},d(l){l&&g(e)}}}function ae(n){let e,t=n[2]("default.menu.soon")+"",l;return{c(){e=y("div"),l=P(t),this.h()},l(s){e=I(s,"DIV",{class:!0});var r=S(e);l=q(r,t),r.forEach(g),this.h()},h(){b(e,"class","absolute bottom-2.5 left-1/3 translate-x-1/2 transform rounded-full bg-red-600 px-1 text-[6px]")},m(s,r){z(s,e,r),$(e,l)},p(s,r){r&4&&t!==(t=s[2]("default.menu.soon")+"")&&F(l,t)},d(s){s&&g(e)}}}function se(n){let e,t,l,s,r=n[5].icon+"",a,u,i=n[5].name+"",o,d,f,w,p=n[3].data.route.includes(n[5].path),j,v,_,m=p&&le(),c=!n[5].available&&ae(n);return{c(){e=y("div"),t=y("a"),l=y("div"),s=new ge(!1),a=D(),u=y("span"),o=P(i),w=D(),m&&m.c(),j=D(),c&&c.c(),v=D(),this.h()},l(h){e=I(h,"DIV",{class:!0});var k=S(e);t=I(k,"A",{href:!0,class:!0});var B=S(t);l=I(B,"DIV",{class:!0});var J=S(l);s=we(J,!1),J.forEach(g),a=M(B),u=I(B,"SPAN",{class:!0});var Z=S(u);o=q(Z,i),Z.forEach(g),B.forEach(g),w=M(k),m&&m.l(k),j=M(k),c&&c.l(k),v=M(k),k.forEach(g),this.h()},h(){s.a=null,b(l,"class","h-6 w-6 fill-white"),b(u,"class","text-2xs lg:mt-2 lg:text-xs"),b(t,"href",d=n[5].path),b(t,"class",f="flex flex-col items-center justify-center "+(n[5].available?"":"pointer-events-none")),b(e,"class",_="relative flex flex-col items-center justify-center "+(n[5].available?"":"opacity-40")+" last:mr-2")},m(h,k){z(h,e,k),$(e,t),$(t,l),s.m(r,l),$(t,a),$(t,u),$(u,o),$(e,w),m&&m.m(e,null),$(e,j),c&&c.m(e,null),$(e,v)},p(h,k){k&2&&r!==(r=h[5].icon+"")&&s.p(r),k&2&&i!==(i=h[5].name+"")&&F(o,i),k&2&&d!==(d=h[5].path)&&b(t,"href",d),k&2&&f!==(f="flex flex-col items-center justify-center "+(h[5].available?"":"pointer-events-none"))&&b(t,"class",f),k&10&&(p=h[3].data.route.includes(h[5].path)),p?m||(m=le(),m.c(),m.m(e,j)):m&&(m.d(1),m=null),h[5].available?c&&(c.d(1),c=null):c?c.p(h,k):(c=ae(h),c.c(),c.m(e,v)),k&2&&_!==(_="relative flex flex-col items-center justify-center "+(h[5].available?"":"opacity-40")+" last:mr-2")&&b(e,"class",_)},d(h){h&&g(e),m&&m.d(),c&&c.d()}}}function Pe(n){let e,t,l,s,r,a,u,i,o,d,f,w,p=!n[0]&&te(n),j=K(n[1]),v=[];for(let _=0;_<j.length;_+=1)v[_]=se(ee(n,j,_));return{c(){e=y("div"),p&&p.c(),t=D(),l=y("img"),r=D(),a=y("img"),i=D(),o=y("div"),d=D(),f=y("div");for(let _=0;_<v.length;_+=1)v[_].c();this.h()},l(_){e=I(_,"DIV",{class:!0});var m=S(e);p&&p.l(m),t=M(m),l=I(m,"IMG",{src:!0,alt:!0,class:!0}),r=M(m),a=I(m,"IMG",{src:!0,alt:!0,class:!0}),i=M(m),o=I(m,"DIV",{class:!0}),S(o).forEach(g),d=M(m),f=I(m,"DIV",{class:!0});var c=S(f);for(let h=0;h<v.length;h+=1)v[h].l(c);c.forEach(g),m.forEach(g),this.h()},h(){U(l.src,s="/inverted-border.svg")||b(l,"src",s),b(l,"alt",""),b(l,"class","absolute left-0 top-0 w-5 -translate-y-full transform"),U(a.src,u="/inverted-border.svg")||b(a,"src",u),b(a,"alt",""),b(a,"class","absolute right-0 top-0 w-5 -translate-y-full -rotate-90 transform"),b(o,"class","absolute left-0 top-0 h-[0.5px] w-full -translate-y-full transform bg-black"),b(f,"class","flex items-center justify-around"),b(e,"class","fixed bottom-0 left-0 z-[1002] w-full bg-black px-4 pb-4 pt-2 text-gray-200")},m(_,m){z(_,e,m),p&&p.m(e,null),$(e,t),$(e,l),$(e,r),$(e,a),$(e,i),$(e,o),$(e,d),$(e,f);for(let c=0;c<v.length;c+=1)v[c]&&v[c].m(f,null);w=!0},p(_,[m]){if(_[0]?p&&(G(),V(p,1,1,()=>{p=null}),R()):p?(p.p(_,m),m&1&&E(p,1)):(p=te(_),p.c(),E(p,1),p.m(e,t)),m&14){j=K(_[1]);let c;for(c=0;c<j.length;c+=1){const h=ee(_,j,c);v[c]?v[c].p(h,m):(v[c]=se(h),v[c].c(),v[c].m(f,null))}for(;c<v.length;c+=1)v[c].d(1);v.length=j.length}},i(_){w||(E(p),w=!0)},o(_){V(p),w=!1},d(_){_&&g(e),p&&p.d(),be(v,_)}}}function qe(n,e,t){let l,s;X(n,L,i=>t(2,l=i)),X(n,xe,i=>t(3,s=i));let{user:r}=e,a=[{slug:"home",name:H(L)("default.menu.bar.home"),path:"/app/dashboard",icon:Le,available:!0},{slug:"selfempathy",name:H(L)("default.menu.bar.selfempathy"),path:"/app/selfempathy",icon:Te,available:!0},{slug:"fights",name:H(L)("default.menu.bar.fights"),path:"/app/fights",icon:He,available:!0},{slug:"feedback",name:H(L)("default.menu.bar.feedback"),path:"/app/feedback",icon:Ce,available:!1},{slug:"learn",name:H(L)("default.menu.bar.learn"),path:"/app/learn",icon:We,available:!1}];L.subscribe(i=>{const o=a.map(d=>{const f=i(`default.menu.bar.${d.slug}`);return d.name=f,d});t(1,a=[...o])});const u=()=>Ae("/app/auth/register");return n.$$set=i=>{"user"in i&&t(0,r=i.user)},[r,a,l,s,u]}class Fe extends ie{constructor(e){super(),oe(this,e,qe,Pe,O,{user:0})}}const Ge=async({url:n,data:e})=>(await ce(e.locale,n.pathname),e.user?Q.set(e.user):Q.set(void 0),{locale:e.locale,route:n.pathname,user:e.user}),rt=Object.freeze(Object.defineProperty({__proto__:null,load:Ge},Symbol.toStringTag,{value:"Module"}));function Re(n){let e,t,l,s,r,a,u,i;t=new ze({});const o=n[3].default,d=Ee(o,n,n[2],null);return u=new Fe({props:{user:n[0].user}}),{c(){e=y("div"),C(t.$$.fragment),l=D(),d&&d.c(),a=D(),C(u.$$.fragment),this.h()},l(f){e=I(f,"DIV",{class:!0});var w=S(e);W(t.$$.fragment,w),l=M(w),d&&d.l(w),w.forEach(g),a=M(f),W(u.$$.fragment,f),this.h()},h(){b(e,"class","app/layout bg-background min-h-svh")},m(f,w){z(f,e,w),x(t,e,null),$(e,l),d&&d.m(e,null),z(f,a,w),x(u,f,w),i=!0},p(f,w){n=f,d&&d.p&&(!i||w&4)&&Ve(d,o,n,n[2],i?De(o,n[2],w,null):je(n[2]),null);const p={};w&1&&(p.user=n[0].user),u.$set(p)},i(f){i||(E(t.$$.fragment,f),E(d,f),f&&ne(()=>{i&&(r&&r.end(1),s=ue(e,N,{duration:T,delay:T}),s.start())}),E(u.$$.fragment,f),i=!0)},o(f){V(t.$$.fragment,f),V(d,f),s&&s.invalidate(),f&&(r=fe(e,N,{duration:T})),V(u.$$.fragment,f),i=!1},d(f){f&&(g(e),g(a)),A(t),d&&d.d(f),f&&r&&r.end(),A(u,f)}}}function Je(n){let e,t,l,s,r;return t=new ve({props:{fast:!0,class:"h-6 w-16 shadow-xl dark:shadow-gray-200/30"}}),{c(){e=y("div"),C(t.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0});var u=S(e);W(t.$$.fragment,u),u.forEach(g),this.h()},h(){b(e,"class","flex items-center justify-center h-svh")},m(a,u){z(a,e,u),x(t,e,null),r=!0},p(a,u){},i(a){r||(E(t.$$.fragment,a),a&&ne(()=>{r&&(s&&s.end(1),l=ue(e,N,{duration:T,delay:T}),l.start())}),r=!0)},o(a){V(t.$$.fragment,a),l&&l.invalidate(),a&&(s=fe(e,N,{duration:T})),r=!1},d(a){a&&g(e),A(t),a&&s&&s.end()}}}function re(n){let e,t,l,s;const r=[Je,Re],a=[];function u(i,o){return i[1]?1:0}return e=u(n),t=a[e]=r[e](n),{c(){t.c(),l=Y()},l(i){t.l(i),l=Y()},m(i,o){a[e].m(i,o),z(i,l,o),s=!0},p(i,o){let d=e;e=u(i),e===d?a[e].p(i,o):(G(),V(a[d],1,1,()=>{a[d]=null}),R(),t=a[e],t?t.p(i,o):(t=a[e]=r[e](i),t.c()),E(t,1),t.m(l.parentNode,l))},i(i){s||(E(t),s=!0)},o(i){V(t),s=!1},d(i){i&&g(l),a[e].d(i)}}}function Ze(n){let e=n[0].url,t,l,s,r=re(n);return l=new Se({}),{c(){r.c(),t=D(),C(l.$$.fragment)},l(a){r.l(a),t=M(a),W(l.$$.fragment,a)},m(a,u){r.m(a,u),z(a,t,u),x(l,a,u),s=!0},p(a,[u]){u&1&&O(e,e=a[0].url)?(G(),V(r,1,1,Ie),R(),r=re(a),r.c(),E(r,1),r.m(t.parentNode,t)):r.p(a,u)},i(a){s||(E(r),E(l.$$.fragment,a),s=!0)},o(a){V(r),V(l.$$.fragment,a),s=!1},d(a){a&&g(t),r.d(a),A(l,a)}}}const T=400;function Ke(n,e,t){let{$$slots:l={},$$scope:s}=e;window.ResizeObserver=Me;let{data:r}=e,a=!1;console.log("+layout.svelte - user:",r.user);const u=o=>{de.set(o.target.scrollTop)},i=()=>{const o=_e();pe.set(window.innerWidth-o),he.set(window.innerHeight)};return ke(()=>{var o;i(),t(1,a=!0),(o=document.getElementById("scrollContainer"))==null||o.addEventListener("scroll",u),window==null||window.addEventListener("resize",i),me.set("bg-black")}),Be(o=>{if(document.startViewTransition)return new Promise(d=>{document.startViewTransition(async()=>{d(),await o.complete})})}),ye(()=>{var o;(o=document.getElementById("scrollContainer"))==null||o.removeEventListener("scroll",u),window==null||window.removeEventListener("resize",i)}),n.$$set=o=>{"data"in o&&t(0,r=o.data),"$$scope"in o&&t(2,s=o.$$scope)},[r,a,s,l]}class nt extends ie{constructor(e){super(),oe(this,e,Ke,Ze,O,{data:0})}}export{nt as component,rt as universal};
