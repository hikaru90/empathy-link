import{e as O,f as j,l as R,s as q,w as H,h as K}from"../chunks/page.DamFOs5c.js";import{s as I,a as P,g as T,i as y,f as h,k as B,K as F,V as Y,e as b,c as k,b as $,p as g,I as S,n as G,A as J,h as Q,B as U,C as X,D as Z}from"../chunks/scheduler.CkaH_kk_.js";import{S as x,i as ee,c as E,a as L,m as z,b as _,e as W,t as p,d as D,g as C,h as M,j as V}from"../chunks/index.54FFccaA.js";import{S as te,i as ne,M as re}from"../chunks/ResizeObserver.es.DTaNpCI4.js";import{a as v,g as se,S as oe}from"../chunks/helpers.6NvQFJWp.js";import{o as ae}from"../chunks/entry.Cn3xRfEv.js";const ie=async({url:o,data:t})=>(await O(t.locale,o.pathname),t.user?j.set(t.user):j.set(void 0),console.log("layout.ts values - locals:",t),console.log("layout.ts values - user:",t.user),{locale:t.locale,route:o.pathname,user:t.user}),ve=Object.freeze(Object.defineProperty({__proto__:null,load:ie},Symbol.toStringTag,{value:"Module"}));function le(o){let t,n,s,u,r,e;n=new re({});const c=o[3].default,i=J(c,o,o[2],null);return{c(){t=b("div"),E(n.$$.fragment),s=P(),i&&i.c(),this.h()},l(l){t=k(l,"DIV",{class:!0});var a=$(t);L(n.$$.fragment,a),s=T(a),i&&i.l(a),a.forEach(h),this.h()},h(){g(t,"class","flex flex-grow flex-col")},m(l,a){y(l,t,a),z(n,t,null),Q(t,s),i&&i.m(t,null),e=!0},p(l,a){o=l,i&&i.p&&(!e||a&4)&&U(i,c,o,o[2],e?Z(c,o[2],a,null):X(o[2]),null)},i(l){e||(p(n.$$.fragment,l),p(i,l),l&&S(()=>{e&&(r&&r.end(1),u=M(t,v,{duration:m,delay:m}),u.start())}),e=!0)},o(l){_(n.$$.fragment,l),_(i,l),u&&u.invalidate(),l&&(r=V(t,v,{duration:m})),e=!1},d(l){l&&h(t),D(n),i&&i.d(l),l&&r&&r.end()}}}function ue(o){let t,n,s,u,r;return n=new oe({props:{fast:!0,class:"h-6 w-16 shadow-xl dark:shadow-gray-200/30"}}),{c(){t=b("div"),E(n.$$.fragment),this.h()},l(e){t=k(e,"DIV",{class:!0});var c=$(t);L(n.$$.fragment,c),c.forEach(h),this.h()},h(){g(t,"class","flex items-center justify-center py-60")},m(e,c){y(e,t,c),z(n,t,null),r=!0},p(e,c){},i(e){r||(p(n.$$.fragment,e),e&&S(()=>{r&&(u&&u.end(1),s=M(t,v,{duration:m,delay:m}),s.start())}),r=!0)},o(e){_(n.$$.fragment,e),s&&s.invalidate(),e&&(u=V(t,v,{duration:m})),r=!1},d(e){e&&h(t),D(n),e&&u&&u.end()}}}function A(o){let t,n,s,u,r,e;const c=[ue,le],i=[];function l(a,d){return a[1]?1:0}return n=l(o),s=i[n]=c[n](o),{c(){t=b("main"),s.c(),this.h()},l(a){t=k(a,"MAIN",{id:!0,class:!0});var d=$(t);s.l(d),d.forEach(h),this.h()},h(){g(t,"id","scrollContainer"),g(t,"class","overflow-x-hidden")},m(a,d){y(a,t,d),i[n].m(t,null),e=!0},p(a,d){o=a;let w=n;n=l(o),n===w?i[n].p(o,d):(C(),_(i[w],1,1,()=>{i[w]=null}),W(),s=i[n],s?s.p(o,d):(s=i[n]=c[n](o),s.c()),p(s,1),s.m(t,null))},i(a){e||(p(s),a&&S(()=>{e&&(r&&r.end(1),u=M(t,v,{duration:m,delay:m}),u.start())}),e=!0)},o(a){_(s),u&&u.invalidate(),a&&(r=V(t,v,{duration:m})),e=!1},d(a){a&&h(t),i[n].d(),a&&r&&r.end()}}}function ce(o){let t=o[0].url,n,s,u,r=A(o);return s=new te({}),{c(){r.c(),n=P(),E(s.$$.fragment)},l(e){r.l(e),n=T(e),L(s.$$.fragment,e)},m(e,c){r.m(e,c),y(e,n,c),z(s,e,c),u=!0},p(e,[c]){c&1&&I(t,t=e[0].url)?(C(),_(r,1,1,G),W(),r=A(e),r.c(),p(r,1),r.m(n.parentNode,n)):r.p(e,c)},i(e){u||(p(r),p(s.$$.fragment,e),u=!0)},o(e){_(r),_(s.$$.fragment,e),u=!1},d(e){e&&h(n),r.d(e),D(s,e)}}}const m=400;function fe(o,t,n){let s;B(o,R,f=>n(6,s=f));let{$$slots:u={},$$scope:r}=t;window.ResizeObserver=ne;let{data:e}=t,c=!1,i=0,l=!1;console.log("+layout.svelte - user:",e.user);const a=f=>{q.set(f)},d=()=>{const f=se();H.set(window.innerWidth-f),K.set(window.innerHeight)};F(()=>{d(),n(1,c=!0),document.addEventListener("scroll",f=>{i=window.scrollY,l||(window.requestAnimationFrame(()=>{a(i),l=!1}),l=!0)}),window==null||window.addEventListener("resize",d),w()});function w(){{const f=s;document.documentElement.lang=f}}return ae(f=>{if(document.startViewTransition)return new Promise(N=>{document.startViewTransition(async()=>{N(),await f.complete})})}),Y(()=>{document.removeEventListener("scroll",a),window==null||window.removeEventListener("resize",d)}),o.$$set=f=>{"data"in f&&n(0,e=f.data),"$$scope"in f&&n(2,r=f.$$scope)},w(),[e,c,r,u]}class ge extends x{constructor(t){super(),ee(this,t,fe,ce,I,{data:0})}}export{ge as component,ve as universal};
