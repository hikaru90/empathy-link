import{s as Ve,l as Ie,m as Le,o as Ae,b as E,f as d,p as _,q as Be,i as M,h as c,n as ge,r as Ne,u as et,e as k,t as O,a as j,c as D,d as R,g as C,j as G,M as je,k as fe,X as tt,Y as lt,O as Fe,I as rt,S as nt,E as Je}from"../chunks/scheduler.DdioMMNe.js";import{S as Ce,i as He,t as V,g as pe,b as H,f as _e,c as B,a as N,m as F,d as P}from"../chunks/index.DwuYAy9N.js";import{e as se,d as st}from"../chunks/helpers.DRuoA_Ub.js";import{p as ne,A as at}from"../chunks/pocketbase.D5VS0VDr.js";import{A as ot}from"../chunks/AppBottomMenu.Dq_ZJfxR.js";import{g as it,u as ct,l as Ke,t as ft,h as ut}from"../chunks/page.CF0Ovvew.js";import{S as dt}from"../chunks/Share.D0C-0Nl0.js";import{I as ht,a as mt,b as gt,c as pt}from"../chunks/icon-steps.dGSELuxl.js";import"../chunks/memoize.DKCXd2wb.js";import{C as xe,S as _t}from"../chunks/skeleton.C45GBtGO.js";import{p as vt}from"../chunks/stores.BjqphM1R.js";import{g as bt}from"../chunks/entry.Bj8-M4tG.js";import{a as Qe}from"../chunks/button.B35vIzx1.js";function $t(a){let e,l,t=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],r={};for(let s=0;s<t.length;s+=1)r=Ie(r,t[s]);return{c(){e=Le("svg"),l=Le("path"),this.h()},l(s){e=Ae(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var n=E(e);l=Ae(n,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),E(l).forEach(d),n.forEach(d),this.h()},h(){_(l,"fill-rule","evenodd"),_(l,"clip-rule","evenodd"),_(l,"d","M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z"),_(l,"fill",a[0]),Be(e,r)},m(s,n){M(s,e,n),c(e,l)},p(s,[n]){n&1&&_(l,"fill",s[0]),Be(e,r=it(t,[n&2&&{width:s[1]},n&2&&{height:s[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},n&4&&s[2]]))},i:ge,o:ge,d(s){s&&d(e)}}}function wt(a,e,l){const t=["color","size"];let r=Ne(e,t),{color:s="currentColor"}=e,{size:n=15}=e;return a.$$set=o=>{e=Ie(Ie({},e),et(o)),l(2,r=Ne(e,t)),"color"in o&&l(0,s=o.color),"size"in o&&l(1,n=o.size)},[s,n,r]}class kt extends Ce{constructor(e){super(),He(this,e,wt,$t,Ve,{color:0,size:1})}}function Pe(a,e,l){const t=a.slice();return t[4]=e[l],t}function Ze(a,e,l){const t=a.slice();return t[7]=e[l],t}function Oe(a){let e,l,t,r,s;return l=new xe({}),r=new xe({props:{class:"-ml-2"}}),{c(){e=k("div"),B(l.$$.fragment),t=j(),B(r.$$.fragment),this.h()},l(n){e=D(n,"DIV",{class:!0});var o=E(e);N(l.$$.fragment,o),t=C(o),N(r.$$.fragment,o),o.forEach(d),this.h()},h(){_(e,"class","rounded-full bg-green-600 px-1 py-[2px] text-2xs text-green-300 flex items-center")},m(n,o){M(n,e,o),F(l,e,null),c(e,t),F(r,e,null),s=!0},i(n){s||(V(l.$$.fragment,n),V(r.$$.fragment,n),s=!0)},o(n){H(l.$$.fragment,n),H(r.$$.fragment,n),s=!1},d(n){n&&d(e),P(l),P(r)}}}function Dt(a){let e,l=se(a[4].content),t=[];for(let r=0;r<l.length;r+=1)t[r]=Re(Ze(a,l,r));return{c(){e=k("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=D(r,"DIV",{class:!0});var s=E(e);for(let n=0;n<t.length;n+=1)t[n].l(s);s.forEach(d),this.h()},h(){_(e,"class","flex flex-wrap gap-2")},m(r,s){M(r,e,s);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(r,s){if(s&12){l=se(r[4].content);let n;for(n=0;n<l.length;n+=1){const o=Ze(r,l,n);t[n]?t[n].p(o,s):(t[n]=Re(o),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},d(r){r&&d(e),je(t,r)}}}function Et(a){let e=a[4].content+"",l;return{c(){l=O(e)},l(t){l=R(t,e)},m(t,r){M(t,l,r)},p:ge,d(t){t&&d(l)}}}function Re(a){let e,l=(a[2]==="en"?a[7].nameEN:a[7].nameDE)+"",t,r;return{c(){e=k("div"),t=O(l),r=j(),this.h()},l(s){e=D(s,"DIV",{class:!0});var n=E(e);t=R(n,l),r=C(n),n.forEach(d),this.h()},h(){_(e,"class","bg-"+a[4].color+"-background rounded-full px-2 py-0.5 svelte-qjj3hn")},m(s,n){M(s,e,n),c(e,t),c(e,r)},p(s,n){n&4&&l!==(l=(s[2]==="en"?s[7].nameEN:s[7].nameDE)+"")&&G(t,l)},d(s){s&&d(e)}}}function Xe(a){let e,l,t,r,s,n,o,i=a[4].icon+"",h,$,I;function q(m,g){return m[4].type==="text"?Et:Dt}let p=q(a)(a);return{c(){e=k("div"),l=k("div"),t=k("div"),r=k("div"),s=j(),n=k("div"),o=new tt(!1),h=j(),$=k("div"),p.c(),I=j(),this.h()},l(m){e=D(m,"DIV",{class:!0});var g=E(e);l=D(g,"DIV",{class:!0});var u=E(l);t=D(u,"DIV",{class:!0});var b=E(t);r=D(b,"DIV",{class:!0}),E(r).forEach(d),s=C(b),n=D(b,"DIV",{class:!0});var v=E(n);o=lt(v,!1),v.forEach(d),b.forEach(d),u.forEach(d),h=C(g),$=D(g,"DIV",{class:!0});var T=E($);p.l(T),T.forEach(d),I=C(g),g.forEach(d),this.h()},h(){_(r,"class","label-shadow svelte-qjj3hn"),o.a=null,_(n,"class","icon fill-"+a[4].color+"-foreground svelte-qjj3hn"),_(t,"class","label bg-"+a[4].color+"-background dark:bg-muted/40 svelte-qjj3hn"),_(l,"class","flex flex-shrink-0 items-center justify-center border-r border-black/5 px-3 pb-3 pt-3 group-first:pt-6 group-last:pb-6"),_($,"class","flex-grow break-all px-3 pb-3 pt-3 group-first:pt-6 group-last:pb-6"),_(e,"class","group flex items-stretch border-b border-black/5 bg-almostwhite dark:bg-muted text-xs shadow-md last:border-b-0")},m(m,g){M(m,e,g),c(e,l),c(l,t),c(t,r),c(t,s),c(t,n),o.m(i,n),c(e,h),c(e,$),p.m($,null),c(e,I)},p(m,g){p.p(m,g)},d(m){m&&d(e),p.d()}}}function yt(a){let e,l,t=(a[1].id===a[0].owner?a[1].firstName:a[0].expand.fight.name)+"",r,s,n=new Date(a[0].created).toLocaleDateString("de-DE")+"",o,i,h,$,I,q,S,p=a[1].id===a[0].owner&&a[0].opened&&Oe(),m=se(a[3]),g=[];for(let u=0;u<m.length;u+=1)g[u]=Xe(Pe(a,m,u));return{c(){e=k("div"),l=k("div"),r=O(t),s=O(" — "),o=O(n),i=j(),p&&p.c(),$=j(),I=k("div");for(let u=0;u<g.length;u+=1)g[u].c();this.h()},l(u){e=D(u,"DIV",{class:!0});var b=E(e);l=D(b,"DIV",{class:!0});var v=E(l);r=R(v,t),s=R(v," — "),o=R(v,n),v.forEach(d),i=C(b),p&&p.l(b),b.forEach(d),$=C(u),I=D(u,"DIV",{class:!0});var T=E(I);for(let J=0;J<g.length;J+=1)g[J].l(T);T.forEach(d),this.h()},h(){_(l,"class","rounded-full bg-neutral-400 bg-opacity-50 px-3 py-1 text-xs text-black"),_(e,"class",h=(a[1].id===a[0].owner?"justify-start":"justify-end")+" mb-3 flex items-center gap-2"),_(I,"class",q=(a[1].id===a[0].owner?"mr-10":"ml-10")+" relative mb-10 flex flex-col overflow-hidden rounded-xl shadow-xl")},m(u,b){M(u,e,b),c(e,l),c(l,r),c(l,s),c(l,o),c(e,i),p&&p.m(e,null),M(u,$,b),M(u,I,b);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(I,null);S=!0},p(u,[b]){if((!S||b&3)&&t!==(t=(u[1].id===u[0].owner?u[1].firstName:u[0].expand.fight.name)+"")&&G(r,t),(!S||b&1)&&n!==(n=new Date(u[0].created).toLocaleDateString("de-DE")+"")&&G(o,n),u[1].id===u[0].owner&&u[0].opened?p?b&3&&V(p,1):(p=Oe(),p.c(),V(p,1),p.m(e,null)):p&&(pe(),H(p,1,1,()=>{p=null}),_e()),(!S||b&3&&h!==(h=(u[1].id===u[0].owner?"justify-start":"justify-end")+" mb-3 flex items-center gap-2"))&&_(e,"class",h),b&12){m=se(u[3]);let v;for(v=0;v<m.length;v+=1){const T=Pe(u,m,v);g[v]?g[v].p(T,b):(g[v]=Xe(T),g[v].c(),g[v].m(I,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=m.length}(!S||b&3&&q!==(q=(u[1].id===u[0].owner?"mr-10":"ml-10")+" relative mb-10 flex flex-col overflow-hidden rounded-xl shadow-xl"))&&_(I,"class",q)},i(u){S||(V(p),S=!0)},o(u){H(p),S=!1},d(u){u&&(d(e),d($),d(I)),p&&p.d(),je(g,u)}}}function It(a,e,l){let t,r;fe(a,ct,o=>l(1,t=o)),fe(a,Ke,o=>l(2,r=o));let{record:s}=e;console.log("record",s);const n=[{icon:ht,color:"observation",type:"text",content:s.observation},{icon:mt,color:"feelings",type:"array",content:s.expand.feelings},{icon:gt,color:"needs",type:"array",content:s.expand.needs},{icon:pt,color:"request",type:"text",content:s.request}];return a.$$set=o=>{"record"in o&&l(0,s=o.record)},[s,t,r,n]}class Ue extends Ce{constructor(e){super(),He(this,e,It,yt,Ve,{record:0})}}function Ye(a,e,l){const t=a.slice();return t[13]=e[l],t}function xt(a){let e,l,t,r,s,n,o,i=a[6]("default.page.fight.heading")+"",h,$,I=a[7]==="en"?"with":"mit",q,S,p,m=a[1].name+"",g,u,b,v,T=a[5](a[1].created)+"",J,ve,K,ae=a[7]==="en"?"on the":"am",ue,be,oe=new Intl.DateTimeFormat("de-DE").format(new Date(a[1].created))+"",de,$e,L,A,we,Z,ee,ze='<div style="background: radial-gradient(circle at center, rgba(255,255,255,0.7), transparent 67%);" class="absolute left-0 top-20 z-0 h-[800px] w-[800px] -translate-x-1/2 -translate-y-1/2 transform opacity-10"></div>',ke,le,Q,De,Ee,U,X;t=new at({});const Se=[Ct,jt],W=[];function Me(f,w){return f[3]?1:0}L=Me(a),A=W[L]=Se[L](a),Q=new Ue({props:{record:a[1]}});let te=se(a[2]),y=[];for(let f=0;f<te.length;f+=1)y[f]=Ge(Ye(a,te,f));const We=f=>H(y[f],1,1,()=>{y[f]=null});return U=new ot({props:{$$slots:{default:[St]},$$scope:{ctx:a}}}),{c(){e=k("div"),l=k("div"),B(t.$$.fragment),r=j(),s=k("div"),n=k("div"),o=k("h1"),h=O(i),$=j(),q=O(I),S=j(),p=k("span"),g=O(m),u=j(),b=k("div"),v=k("div"),J=O(T),ve=j(),K=k("div"),ue=O(ae),be=j(),de=O(oe),$e=j(),A.c(),we=j(),Z=k("div"),ee=k("div"),ee.innerHTML=ze,ke=j(),le=k("div"),B(Q.$$.fragment),De=j();for(let f=0;f<y.length;f+=1)y[f].c();Ee=j(),B(U.$$.fragment),this.h()},l(f){e=D(f,"DIV",{class:!0});var w=E(e);l=D(w,"DIV",{class:!0});var z=E(l);N(t.$$.fragment,z),r=C(z),s=D(z,"DIV",{class:!0});var ie=E(s);n=D(ie,"DIV",{class:!0});var Y=E(n);o=D(Y,"H1",{class:!0});var x=E(o);h=R(x,i),$=C(x),q=R(x,I),S=C(x),p=D(x,"SPAN",{class:!0});var ce=E(p);g=R(ce,m),ce.forEach(d),x.forEach(d),u=C(Y),b=D(Y,"DIV",{class:!0});var he=E(b);v=D(he,"DIV",{class:!0});var Te=E(v);J=R(Te,T),Te.forEach(d),ve=C(he),K=D(he,"DIV",{class:!0});var me=E(K);ue=R(me,ae),be=C(me),de=R(me,oe),me.forEach(d),he.forEach(d),$e=C(Y),A.l(Y),Y.forEach(d),ie.forEach(d),we=C(z),Z=D(z,"DIV",{class:!0});var re=E(Z);ee=D(re,"DIV",{class:!0,"data-svelte-h":!0}),Je(ee)!=="svelte-gzvl13"&&(ee.innerHTML=ze),ke=C(re),le=D(re,"DIV",{class:!0});var qe=E(le);N(Q.$$.fragment,qe),qe.forEach(d),De=C(re);for(let ye=0;ye<y.length;ye+=1)y[ye].l(re);re.forEach(d),Ee=C(z),N(U.$$.fragment,z),z.forEach(d),w.forEach(d),this.h()},h(){_(p,"class","capitalize"),_(o,"class","font-heading flex-grow text-lg font-semibold"),_(v,"class","mb-0.5 rounded-full bg-neutral-600 py-0.5 text-center text-2xs text-neutral-300"),_(K,"class","text-xs"),_(b,"class","flex flex-shrink-0 flex-col"),_(n,"class","relative z-10 -mx-5 flex flex-row items-center justify-between gap-3 px-5 py-4 md:items-center md:bg-transparent md:pb-6"),_(s,"class","max-container"),_(ee,"class","relative z-0"),_(le,"class","relative z-10"),_(Z,"class","max-container relative pb-60 pt-10 md:bg-transparent"),_(l,"class",""),_(e,"class","overflow-hidden")},m(f,w){M(f,e,w),c(e,l),F(t,l,null),c(l,r),c(l,s),c(s,n),c(n,o),c(o,h),c(o,$),c(o,q),c(o,S),c(o,p),c(p,g),c(n,u),c(n,b),c(b,v),c(v,J),c(b,ve),c(b,K),c(K,ue),c(K,be),c(K,de),c(n,$e),W[L].m(n,null),c(l,we),c(l,Z),c(Z,ee),c(Z,ke),c(Z,le),F(Q,le,null),c(Z,De);for(let z=0;z<y.length;z+=1)y[z]&&y[z].m(Z,null);c(l,Ee),F(U,l,null),X=!0},p(f,w){(!X||w&64)&&i!==(i=f[6]("default.page.fight.heading")+"")&&G(h,i),(!X||w&128)&&I!==(I=f[7]==="en"?"with":"mit")&&G(q,I),(!X||w&2)&&m!==(m=f[1].name+"")&&G(g,m),(!X||w&34)&&T!==(T=f[5](f[1].created)+"")&&G(J,T),(!X||w&128)&&ae!==(ae=f[7]==="en"?"on the":"am")&&G(ue,ae),(!X||w&2)&&oe!==(oe=new Intl.DateTimeFormat("de-DE").format(new Date(f[1].created))+"")&&G(de,oe);let z=L;L=Me(f),L===z?W[L].p(f,w):(pe(),H(W[z],1,1,()=>{W[z]=null}),_e(),A=W[L],A?A.p(f,w):(A=W[L]=Se[L](f),A.c()),V(A,1),A.m(n,null));const ie={};if(w&2&&(ie.record=f[1]),Q.$set(ie),w&6){te=se(f[2]);let x;for(x=0;x<te.length;x+=1){const ce=Ye(f,te,x);y[x]?(y[x].p(ce,w),V(y[x],1)):(y[x]=Ge(ce),y[x].c(),V(y[x],1),y[x].m(Z,null))}for(pe(),x=te.length;x<y.length;x+=1)We(x);_e()}const Y={};w&65552&&(Y.$$scope={dirty:w,ctx:f}),U.$set(Y)},i(f){if(!X){V(t.$$.fragment,f),V(A),V(Q.$$.fragment,f);for(let w=0;w<te.length;w+=1)V(y[w]);V(U.$$.fragment,f),X=!0}},o(f){H(t.$$.fragment,f),H(A),H(Q.$$.fragment,f),y=y.filter(Boolean);for(let w=0;w<y.length;w+=1)H(y[w]);H(U.$$.fragment,f),X=!1},d(f){f&&d(e),P(t),W[L].d(),P(Q),je(y,f),P(U)}}}function Vt(a){let e,l,t;return l=new _t({props:{class:"h-[20px] w-[100px] rounded-full"}}),{c(){e=k("div"),B(l.$$.fragment),this.h()},l(r){e=D(r,"DIV",{class:!0});var s=E(e);N(l.$$.fragment,s),s.forEach(d),this.h()},h(){_(e,"class","flex h-full items-center justify-center")},m(r,s){M(r,e,s),F(l,e,null),t=!0},p:ge,i(r){t||(V(l.$$.fragment,r),t=!0)},o(r){H(l.$$.fragment,r),t=!1},d(r){r&&d(e),P(l)}}}function jt(a){let e,l;return e=new Qe({props:{decoration:"floating-op1",class:"-mr-2 -mt-2 flex items-center justify-center border-red-400 bg-red-600 px-1.5 text-sm text-white transition hover:bg-offwhite",$$slots:{default:[Ht]},$$scope:{ctx:a}}}),e.$on("click",a[8]),{c(){B(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Ct(a){let e,l;return e=new Qe({props:{decoration:"floating-op1",class:"-mr-2 -mt-2 flex items-center justify-center border-red-400 bg-red-600 px-1.5 text-sm text-white transition hover:bg-offwhite",$$slots:{default:[zt]},$$scope:{ctx:a}}}),e.$on("click",a[10]),{c(){B(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Ht(a){let e,l;return e=new xe({}),{c(){B(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function zt(a){let e,l;return e=new kt({}),{c(){B(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Ge(a){let e,l='<div style="background: radial-gradient(circle at center, rgba(255,255,255,0.7), transparent 67%);" class="absolute left-96 top-20 z-0 h-[800px] w-[800px] -translate-x-1/2 -translate-y-1/2 transform opacity-10"></div>',t,r,s,n,o;return s=new Ue({props:{record:a[13],adversary:a[1].name}}),{c(){e=k("div"),e.innerHTML=l,t=j(),r=k("div"),B(s.$$.fragment),n=j(),this.h()},l(i){e=D(i,"DIV",{class:!0,"data-svelte-h":!0}),Je(e)!=="svelte-1lvm6nt"&&(e.innerHTML=l),t=C(i),r=D(i,"DIV",{class:!0});var h=E(r);N(s.$$.fragment,h),n=C(h),h.forEach(d),this.h()},h(){_(e,"class","relative z-0"),_(r,"class","relative z-10 mt-8")},m(i,h){M(i,e,h),M(i,t,h),M(i,r,h),F(s,r,null),c(r,n),o=!0},p(i,h){const $={};h&4&&($.record=i[13]),h&2&&($.adversary=i[1].name),s.$set($)},i(i){o||(V(s.$$.fragment,i),o=!0)},o(i){H(s.$$.fragment,i),o=!1},d(i){i&&(d(e),d(t),d(r)),P(s)}}}function St(a){let e,l;return e=new dt({props:{id:a[4]}}),{c(){B(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,r){F(e,t,r),l=!0},p(t,r){const s={};r&16&&(s.id=t[4]),e.$set(s)},i(t){l||(V(e.$$.fragment,t),l=!0)},o(t){H(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Mt(a){let e,l,t,r;const s=[Vt,xt],n=[];function o(i,h){return i[0]?1:0}return e=o(a),l=n[e]=s[e](a),{c(){l.c(),t=Fe()},l(i){l.l(i),t=Fe()},m(i,h){n[e].m(i,h),M(i,t,h),r=!0},p(i,[h]){let $=e;e=o(i),e===$?n[e].p(i,h):(pe(),H(n[$],1,1,()=>{n[$]=null}),_e(),l=n[e],l?l.p(i,h):(l=n[e]=s[e](i),l.c()),V(l,1),l.m(t.parentNode,t))},i(i){r||(V(l),r=!0)},o(i){H(l),r=!1},d(i){i&&d(t),n[e].d(i)}}}function Tt(a,e,l){let t,r,s,n,o;fe(a,vt,m=>l(9,s=m)),fe(a,ft,m=>l(6,n=m)),fe(a,Ke,m=>l(7,o=m));let i=!1,h,$=[],I=!1;const q=async()=>{ne.collection("fights").subscribe(t,function(m){l(1,h=m.record)},{expand:"feelings, needs, owner"}),l(1,h=await ne.collection("fights").getOne(t,{expand:"feelings, needs, owner"})),ne.collection("responses").subscribe("*",function(m){if(m.action==="create"&&m.record.fight===h.id){const g=m.record;l(2,$=[...$,g])}},{expand:"fight, feelings, needs"}),l(2,$=await ne.collection("responses").getFullList({filter:`fight = '${h.id}'`,expand:"fight, feelings, needs"}))},S=async()=>{try{await ne.collection("fights").delete(t),l(3,I=!1),bt("/app/auth/login")}catch{console.error("error deleting fight")}};rt(async()=>{await q(),l(0,i=!0),ut.set("bg-background"),console.log("record",h),console.log("responses",$)}),nt(()=>{ne.collection("responses").unsubscribe("*")});const p=()=>l(3,I=!0);return a.$$.update=()=>{a.$$.dirty&512&&l(4,t=s.params.id),a.$$.dirty&3&&l(5,r=()=>i?st(h.created):"...")},[i,h,$,I,t,r,n,o,S,s,p]}class Jt extends Ce{constructor(e){super(),He(this,e,Tt,Mt,Ve,{})}}export{Jt as component};
