import{s as te,l as L,m as Z,o as F,b,f as d,p as g,q as P,i as V,h as _,n as T,r as R,u as ne,e as E,t as x,a as j,c as D,d as H,g as C,j as N,z as le,k as W,V as ae,W as oe}from"./scheduler.BmBrB_dT.js";import{g as ie,e as A,u as ce,l as fe}from"./helpers.g8wrkI0H.js";import{S as re,i as se,a as S,g as de,t as B,c as ue,b as G,d as J,m as K,e as O}from"./index.BQZQ5DB3.js";import{I as he,a as ve,b as _e,c as me}from"./icon-steps.dGSELuxl.js";import"./memoize.BzJ9-avW.js";import{C as Q}from"./Check.CFBCV6Q5.js";function ge(a){let e,l,r=[{width:a[1]},{height:a[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},a[2]],n={};for(let s=0;s<r.length;s+=1)n=L(n,r[s]);return{c(){e=Z("svg"),l=Z("path"),this.h()},l(s){e=F(s,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var t=b(e);l=F(t,"path",{"fill-rule":!0,"clip-rule":!0,d:!0,fill:!0}),b(l).forEach(d),t.forEach(d),this.h()},h(){g(l,"fill-rule","evenodd"),g(l,"clip-rule","evenodd"),g(l,"d","M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z"),g(l,"fill",a[0]),P(e,n)},m(s,t){V(s,e,t),_(e,l)},p(s,[t]){t&1&&g(l,"fill",s[0]),P(e,n=ie(r,[t&2&&{width:s[1]},t&2&&{height:s[1]},{viewBox:"0 0 15 15"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},t&4&&s[2]]))},i:T,o:T,d(s){s&&d(e)}}}function pe(a,e,l){const r=["color","size"];let n=R(e,r),{color:s="currentColor"}=e,{size:t=15}=e;return a.$$set=i=>{e=L(L({},e),ne(i)),l(2,n=R(e,r)),"color"in i&&l(0,s=i.color),"size"in i&&l(1,t=i.size)},[s,t,n]}class He extends re{constructor(e){super(),se(this,e,pe,ge,te,{color:0,size:1})}}function U(a,e,l){const r=a.slice();return r[6]=e[l],r}function X(a,e,l){const r=a.slice();return r[9]=e[l],r}function Y(a){let e,l,r,n,s;return l=new Q({}),n=new Q({props:{class:"-ml-2"}}),{c(){e=E("div"),G(l.$$.fragment),r=j(),G(n.$$.fragment),this.h()},l(t){e=D(t,"DIV",{class:!0});var i=b(e);J(l.$$.fragment,i),r=C(i),J(n.$$.fragment,i),i.forEach(d),this.h()},h(){g(e,"class","flex items-center rounded-full bg-green-600 px-1 py-[2px] text-2xs text-green-300")},m(t,i){V(t,e,i),K(l,e,null),_(e,r),K(n,e,null),s=!0},i(t){s||(S(l.$$.fragment,t),S(n.$$.fragment,t),s=!0)},o(t){B(l.$$.fragment,t),B(n.$$.fragment,t),s=!1},d(t){t&&d(e),O(l),O(n)}}}function be(a){let e,l,r=a[6].overlap+"",n,s,t=a[2]==="en"?"overlap":"Überschneidung",i;return{c(){e=E("div"),l=E("div"),n=x(r),s=x(`%\r
						`),i=x(t),this.h()},l(w){e=D(w,"DIV",{class:!0});var f=b(e);l=D(f,"DIV",{class:!0});var m=b(l);n=H(m,r),s=H(m,`%\r
						`),i=H(m,t),m.forEach(d),f.forEach(d),this.h()},h(){g(l,"class","border border-"+a[6].color+"-background rounded-full px-2 py-0.5 mb-2 text-xs svelte-qjj3hn"),g(e,"class","flex items-center")},m(w,f){V(w,e,f),_(e,l),_(l,n),_(l,s),_(l,i)},p(w,f){f&4&&t!==(t=w[2]==="en"?"overlap":"Überschneidung")&&N(i,t)},d(w){w&&d(e)}}}function we(a){let e,l=A(a[6].content),r=[];for(let n=0;n<l.length;n+=1)r[n]=$(X(a,l,n));return{c(){e=E("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=D(n,"DIV",{class:!0});var s=b(e);for(let t=0;t<r.length;t+=1)r[t].l(s);s.forEach(d),this.h()},h(){g(e,"class","flex flex-wrap gap-2")},m(n,s){V(n,e,s);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(n,s){if(s&12){l=A(n[6].content);let t;for(t=0;t<l.length;t+=1){const i=X(n,l,t);r[t]?r[t].p(i,s):(r[t]=$(i),r[t].c(),r[t].m(e,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=l.length}},d(n){n&&d(e),le(r,n)}}}function ke(a){let e=a[6].content+"",l;return{c(){l=x(e)},l(r){l=H(r,e)},m(r,n){V(r,l,n)},p:T,d(r){r&&d(l)}}}function $(a){let e,l=(a[2]==="en"?a[9].nameEN:a[9].nameDE)+"",r,n;return{c(){e=E("div"),r=x(l),n=j(),this.h()},l(s){e=D(s,"DIV",{class:!0});var t=b(e);r=H(t,l),n=C(t),t.forEach(d),this.h()},h(){g(e,"class","bg-"+a[6].color+"-background rounded-full px-2 py-0.5 svelte-qjj3hn")},m(s,t){V(s,e,t),_(e,r),_(e,n)},p(s,t){t&4&&l!==(l=(s[2]==="en"?s[9].nameEN:s[9].nameDE)+"")&&N(r,l)},d(s){s&&d(e)}}}function ee(a){let e,l,r,n,s,t,i,w=a[6].icon+"",f,m,k,y,p=a[6].overlap&&be(a);function h(o,c){return o[6].type==="text"?ke:we}let v=h(a)(a);return{c(){e=E("div"),l=E("div"),r=E("div"),n=E("div"),s=j(),t=E("div"),i=new ae(!1),f=j(),m=E("div"),p&&p.c(),k=j(),v.c(),y=j(),this.h()},l(o){e=D(o,"DIV",{class:!0});var c=b(e);l=D(c,"DIV",{class:!0});var u=b(l);r=D(u,"DIV",{class:!0});var I=b(r);n=D(I,"DIV",{class:!0}),b(n).forEach(d),s=C(I),t=D(I,"DIV",{class:!0});var z=b(t);i=oe(z,!1),z.forEach(d),I.forEach(d),u.forEach(d),f=C(c),m=D(c,"DIV",{class:!0});var M=b(m);p&&p.l(M),k=C(M),v.l(M),M.forEach(d),y=C(c),c.forEach(d),this.h()},h(){g(n,"class","label-shadow svelte-qjj3hn"),i.a=null,g(t,"class","icon fill-"+a[6].color+"-foreground svelte-qjj3hn"),g(r,"class","label bg-"+a[6].color+"-background dark:bg-muted/40 svelte-qjj3hn"),g(l,"class","flex flex-shrink-0 items-center justify-center border-r border-black/5 px-3 pb-3 pt-3 group-first:pt-6 group-last:pb-6"),g(m,"class","flex-grow break-all px-3 pb-3 pt-3 group-first:pt-6 group-last:pb-6"),g(e,"class","group flex items-stretch border-b border-black/5 bg-almostwhite text-xs shadow-md last:border-b-0 dark:bg-muted")},m(o,c){V(o,e,c),_(e,l),_(l,r),_(r,n),_(r,s),_(r,t),i.m(w,t),_(e,f),_(e,m),p&&p.m(m,null),_(m,k),v.m(m,null),_(e,y)},p(o,c){o[6].overlap&&p.p(o,c),v.p(o,c)},d(o){o&&d(e),p&&p.d(),v.d()}}}function Ee(a){let e,l,r=(a[1].id===a[0].owner?a[1].firstName:a[0].expand.fight.name)+"",n,s,t=new Date(a[0].created).toLocaleDateString("de-DE")+"",i,w,f,m,k,y,p,h=a[1].id===a[0].owner&&a[0].opened&&Y(),q=A(a[3]),v=[];for(let o=0;o<q.length;o+=1)v[o]=ee(U(a,q,o));return{c(){e=E("div"),l=E("div"),n=x(r),s=x(" — "),i=x(t),w=j(),h&&h.c(),m=j(),k=E("div");for(let o=0;o<v.length;o+=1)v[o].c();this.h()},l(o){e=D(o,"DIV",{class:!0});var c=b(e);l=D(c,"DIV",{class:!0});var u=b(l);n=H(u,r),s=H(u," — "),i=H(u,t),u.forEach(d),w=C(c),h&&h.l(c),c.forEach(d),m=C(o),k=D(o,"DIV",{class:!0});var I=b(k);for(let z=0;z<v.length;z+=1)v[z].l(I);I.forEach(d),this.h()},h(){g(l,"class","rounded-full bg-neutral-400 bg-opacity-50 px-3 py-1 text-xs text-black"),g(e,"class",f=(a[1].id===a[0].owner?"justify-start":"justify-end")+" mb-3 flex items-center gap-2"),g(k,"class",y=(a[1].id===a[0].owner?"mr-10":"ml-10")+" relative mb-10 flex flex-col overflow-hidden rounded-xl shadow-xl")},m(o,c){V(o,e,c),_(e,l),_(l,n),_(l,s),_(l,i),_(e,w),h&&h.m(e,null),V(o,m,c),V(o,k,c);for(let u=0;u<v.length;u+=1)v[u]&&v[u].m(k,null);p=!0},p(o,[c]){if((!p||c&3)&&r!==(r=(o[1].id===o[0].owner?o[1].firstName:o[0].expand.fight.name)+"")&&N(n,r),(!p||c&1)&&t!==(t=new Date(o[0].created).toLocaleDateString("de-DE")+"")&&N(i,t),o[1].id===o[0].owner&&o[0].opened?h?c&3&&S(h,1):(h=Y(),h.c(),S(h,1),h.m(e,null)):h&&(de(),B(h,1,1,()=>{h=null}),ue()),(!p||c&3&&f!==(f=(o[1].id===o[0].owner?"justify-start":"justify-end")+" mb-3 flex items-center gap-2"))&&g(e,"class",f),c&12){q=A(o[3]);let u;for(u=0;u<q.length;u+=1){const I=U(o,q,u);v[u]?v[u].p(I,c):(v[u]=ee(I),v[u].c(),v[u].m(k,null))}for(;u<v.length;u+=1)v[u].d(1);v.length=q.length}(!p||c&3&&y!==(y=(o[1].id===o[0].owner?"mr-10":"ml-10")+" relative mb-10 flex flex-col overflow-hidden rounded-xl shadow-xl"))&&g(k,"class",y)},i(o){p||(S(h),p=!0)},o(o){B(h),p=!1},d(o){o&&(d(e),d(m),d(k)),h&&h.d(),le(v,o)}}}function De(a,e,l){let r,n;W(a,ce,f=>l(1,r=f)),W(a,fe,f=>l(2,n=f));let{record:s}=e,{fight:t=void 0}=e;console.log("record",s);const i=(f="feelings")=>{if(!t)return;const m=t[f],k=s[f];let y=0;const p=m.length;return k.forEach(h=>{m.includes(h)&&y++}),Math.round(y*100/p)},w=[{icon:he,color:"observation",type:"text",content:s.observation},{icon:ve,color:"feelings",type:"array",overlap:i("feelings"),content:s.expand.feelings},{icon:_e,color:"needs",type:"array",overlap:i("needs"),content:s.expand.needs},{icon:me,color:"request",type:"text",content:s.request}];return a.$$set=f=>{"record"in f&&l(0,s=f.record),"fight"in f&&l(4,t=f.fight)},[s,r,n,w,t]}class qe extends re{constructor(e){super(),se(this,e,De,Ee,te,{record:0,fight:4})}}export{qe as F,He as T};
